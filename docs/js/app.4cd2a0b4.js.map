{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/marker-shadow.png","webpack:///./src/util/create-icon.js","webpack:///./src/components/map/Map.vue?9ceb","webpack:///./src/App.vue?eea6","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue","webpack:///./src/views/Map.vue?53f2","webpack:///./src/components/map/Map.vue?ae9a","webpack:///src/components/map/Map.vue","webpack:///./src/components/map/Map.vue?5270","webpack:///./src/components/map/Map.vue","webpack:///./src/components/events/EventControl.vue?000c","webpack:///src/components/events/EventControl.vue","webpack:///./src/components/events/EventControl.vue?7267","webpack:///./src/components/events/EventControl.vue","webpack:///./src/components/chat/ChatWindow.vue?b15a","webpack:///./src/util/filter-messages-for-event.js","webpack:///./src/components/chat/TabButton.vue?56b2","webpack:///src/components/chat/TabButton.vue","webpack:///./src/components/chat/TabButton.vue?b1e6","webpack:///./src/components/chat/TabButton.vue","webpack:///src/components/chat/ChatWindow.vue","webpack:///./src/components/chat/ChatWindow.vue?a27e","webpack:///./src/components/chat/ChatWindow.vue","webpack:///src/views/Map.vue","webpack:///./src/views/Map.vue?4821","webpack:///./src/views/Map.vue","webpack:///./src/router/index.js","webpack:///./src/store/map.js","webpack:///./src/data-export.js","webpack:///./src/store/setup.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/assets/marker-icon.png","webpack:///./src/components/events/EventControl.vue?7ce7","webpack:///./src/components/layout/Header.vue?a158","webpack:///src/components/layout/Header.vue","webpack:///./src/components/layout/Header.vue?693b","webpack:///./src/components/layout/Header.vue","webpack:///./src/fs.js","webpack:///./src/components/chat/Chat.vue?b783","webpack:///./src/components/chat/Bubble.vue?5651","webpack:///./src/components/chat/FSImg.vue?58ee","webpack:///src/components/chat/FSImg.vue","webpack:///./src/components/chat/FSImg.vue?7d6f","webpack:///./src/components/chat/FSImg.vue","webpack:///src/components/chat/Bubble.vue","webpack:///./src/components/chat/Bubble.vue?c622","webpack:///./src/components/chat/Bubble.vue","webpack:///src/components/chat/Chat.vue","webpack:///./src/components/chat/Chat.vue?27df","webpack:///./src/components/chat/Chat.vue","webpack:///./src/data-import.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","createIcon","location","people","person","icon","iconUrl","avatarUrl","encodeURIComponent","iconSize","iconAnchor","tooltipAnchor","popupAnchor","className","markerIcon","shadowUrl","markerShadow","shadowSize","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticRenderFns","component","scopedSlots","_u","fn","on","$event","preventDefault","loadFile","arguments","ref","onVizFileChanged","class","visFileSelected","_v","edit","proxy","currentLocations","events","selectedEvent","selectEvent","next","previous","currentChats","_e","zoom","center","url","attribution","staticStyle","_t","_l","id","position","alert","description","_s","title","Date","start","toLocaleString","isSameDay","end","toLocaleTimeString","timelineEvents","options","selectedEventId","onEventSelect","$emit","selectedColor","chatHidden","receiver","sender","style","paddingTop","paddingBottom","messages","chat","chatList","chatColor","filterMessagesForEvent","selectedChat","selectChat","toPerson","chatName","filter","date","toISOString","classes","count","countClasses","Vue","use","VueRouter","routes","path","Map","router","namespaced","state","mutations","actions","zip","exportAsZip","projectName","chats","locations","files","log","inputBlob","Blob","JSON","stringify","blobWriter","BlobWriter","zipWriter","ZipWriter","add","BlobReader","values","mediaSrc","readFile","replace","file","blob","buffer","close","getData","getters","eventList","sort","a","b","aStart","bStart","map","content","setViz","viz","setProjectName","updateEvent","set","deleteEvent","eventId","delete","addChats","addFiles","updateLocation","deleteLocation","setLocationPerson","updatePerson","deletePerson","exportAsFile","context","URL","createObjectURL","link","download","split","dispatchEvent","MouseEvent","bubbles","cancelable","view","revokeObjectURL","remove","loadVizFile","commit","Vuex","Store","1","2","setup","main","initFS","VueViewer","VueMeta","config","productionTip","store","render","h","App","$mount","catch","small","locked","domProps","changedProjectName","fs","BrowserFS","FileSystem","MountableFileSystem","Buffer","BFSRequire","initialize","FileFlag","mount","InMemory","mkdir","writeFile","mountZipFile","zipFile","basePath","existsSync","umount","reader","FileReader","arrayBuffer","ZipFS","from","readAsArrayBuffer","encoding","flag","contents","fname","ensureDirectory","paths","dir","mkdirSync","safeFirstDate","isSender","color","right","mimeType","onImageClick","text","mime","sql","getSQL","initSqlJs","locateFile","addPeopleMeta","SQL","db","Database","each","row","chattedPerson","Contact","ContactAlias","parseMsgStore","filePromises","key_remote_jid","uuid","chatId","timestamp","key_from_me","media_caption","file_path","media_mime_type","allSettled","vizJson","parse","info"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAGnBC,EAAqB,CACxB,IAAO,GAMJjB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASa,EAAe7B,GACvB,OAAOyB,EAAoBK,EAAI,OAAS,CAAC,IAAM,OAAO9B,IAAUA,GAAW,IAAM,CAAC,IAAM,YAAYA,GAAW,MAIhH,SAASyB,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAUgC,QAGnC,IAAIC,EAASL,EAAiB5B,GAAY,CACzCK,EAAGL,EACHkC,GAAG,EACHF,QAAS,IAUV,OANAlB,EAAQd,GAAUW,KAAKsB,EAAOD,QAASC,EAAQA,EAAOD,QAASN,GAG/DO,EAAOC,GAAI,EAGJD,EAAOD,QAKfN,EAAoBS,EAAI,SAAuBlC,GAC9C,IAAImC,EAAW,GAIXC,EAAY,CAAC,IAAM,GACpBR,EAAmB5B,GAAUmC,EAASvB,KAAKgB,EAAmB5B,IACzB,IAAhC4B,EAAmB5B,IAAkBoC,EAAUpC,IACtDmC,EAASvB,KAAKgB,EAAmB5B,GAAW,IAAIqC,SAAQ,SAASC,EAASC,GAIzE,IAHA,IAAIC,EAAO,QAAU,CAAC,IAAM,OAAOxC,IAAUA,GAAW,IAAM,CAAC,IAAM,YAAYA,GAAW,OACxFyC,EAAWhB,EAAoBK,EAAIU,EACnCE,EAAmBC,SAASC,qBAAqB,QAC7CxC,EAAI,EAAGA,EAAIsC,EAAiBpC,OAAQF,IAAK,CAChD,IAAIyC,EAAMH,EAAiBtC,GACvB0C,EAAWD,EAAIE,aAAa,cAAgBF,EAAIE,aAAa,QACjE,GAAe,eAAZF,EAAIG,MAAyBF,IAAaN,GAAQM,IAAaL,GAAW,OAAOH,IAErF,IAAIW,EAAoBN,SAASC,qBAAqB,SACtD,IAAQxC,EAAI,EAAGA,EAAI6C,EAAkB3C,OAAQF,IAAK,CAC7CyC,EAAMI,EAAkB7C,GACxB0C,EAAWD,EAAIE,aAAa,aAChC,GAAGD,IAAaN,GAAQM,IAAaL,EAAU,OAAOH,IAEvD,IAAIY,EAAUP,SAASQ,cAAc,QACrCD,EAAQF,IAAM,aACdE,EAAQE,KAAO,WACfF,EAAQG,OAASf,EACjBY,EAAQI,QAAU,SAASC,GAC1B,IAAIC,EAAUD,GAASA,EAAME,QAAUF,EAAME,OAAOC,KAAOjB,EACvDkB,EAAM,IAAIC,MAAM,qBAAuB5D,EAAU,cAAgBwD,EAAU,KAC/EG,EAAIE,KAAO,wBACXF,EAAIH,QAAUA,SACP5B,EAAmB5B,GAC1BkD,EAAQY,WAAWC,YAAYb,GAC/BX,EAAOoB,IAERT,EAAQV,KAAOC,EAEf,IAAIuB,EAAOrB,SAASC,qBAAqB,QAAQ,GACjDoB,EAAKC,YAAYf,MACfgB,MAAK,WACPtC,EAAmB5B,GAAW,MAMhC,IAAImE,EAAqBxD,EAAgBX,GACzC,GAA0B,IAAvBmE,EAGF,GAAGA,EACFhC,EAASvB,KAAKuD,EAAmB,QAC3B,CAEN,IAAIC,EAAU,IAAI/B,SAAQ,SAASC,EAASC,GAC3C4B,EAAqBxD,EAAgBX,GAAW,CAACsC,EAASC,MAE3DJ,EAASvB,KAAKuD,EAAmB,GAAKC,GAGtC,IACIC,EADAC,EAAS3B,SAASQ,cAAc,UAGpCmB,EAAOC,QAAU,QACjBD,EAAOE,QAAU,IACb/C,EAAoBgD,IACvBH,EAAOI,aAAa,QAASjD,EAAoBgD,IAElDH,EAAOZ,IAAM7B,EAAe7B,GAG5B,IAAI2E,EAAQ,IAAIf,MAChBS,EAAmB,SAAUd,GAE5Be,EAAOhB,QAAUgB,EAAOjB,OAAS,KACjCuB,aAAaJ,GACb,IAAIK,EAAQlE,EAAgBX,GAC5B,GAAa,IAAV6E,EAAa,CACf,GAAGA,EAAO,CACT,IAAIC,EAAYvB,IAAyB,SAAfA,EAAMH,KAAkB,UAAYG,EAAMH,MAChE2B,EAAUxB,GAASA,EAAME,QAAUF,EAAME,OAAOC,IACpDiB,EAAMK,QAAU,iBAAmBhF,EAAU,cAAgB8E,EAAY,KAAOC,EAAU,IAC1FJ,EAAMM,KAAO,iBACbN,EAAMvB,KAAO0B,EACbH,EAAMnB,QAAUuB,EAChBF,EAAM,GAAGF,GAEVhE,EAAgBX,QAAWkF,IAG7B,IAAIV,EAAUW,YAAW,WACxBd,EAAiB,CAAEjB,KAAM,UAAWK,OAAQa,MAC1C,MACHA,EAAOhB,QAAUgB,EAAOjB,OAASgB,EACjC1B,SAASqB,KAAKC,YAAYK,GAG5B,OAAOjC,QAAQ+C,IAAIjD,IAIpBV,EAAoB4D,EAAIxE,EAGxBY,EAAoB6D,EAAI3D,EAGxBF,EAAoB8D,EAAI,SAASxD,EAASkD,EAAMO,GAC3C/D,EAAoBgE,EAAE1D,EAASkD,IAClC1E,OAAOmF,eAAe3D,EAASkD,EAAM,CAAEU,YAAY,EAAMC,IAAKJ,KAKhE/D,EAAoBoE,EAAI,SAAS9D,GACX,qBAAX+D,QAA0BA,OAAOC,aAC1CxF,OAAOmF,eAAe3D,EAAS+D,OAAOC,YAAa,CAAEC,MAAO,WAE7DzF,OAAOmF,eAAe3D,EAAS,aAAc,CAAEiE,OAAO,KAQvDvE,EAAoBwE,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQvE,EAAoBuE,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAK7F,OAAO8F,OAAO,MAGvB,GAFA5E,EAAoBoE,EAAEO,GACtB7F,OAAOmF,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOvE,EAAoB8D,EAAEa,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIR3E,EAAoB+E,EAAI,SAASxE,GAChC,IAAIwD,EAASxD,GAAUA,EAAOmE,WAC7B,WAAwB,OAAOnE,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAP,EAAoB8D,EAAEC,EAAQ,IAAKA,GAC5BA,GAIR/D,EAAoBgE,EAAI,SAASgB,EAAQC,GAAY,OAAOnG,OAAOC,UAAUC,eAAeC,KAAK+F,EAAQC,IAGzGjF,EAAoBK,EAAI,IAGxBL,EAAoBkF,GAAK,SAAShD,GAA2B,MAApBiD,QAAQjC,MAAMhB,GAAYA,GAEnE,IAAIkD,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAWjG,KAAK2F,KAAKM,GAC5CA,EAAWjG,KAAOf,EAClBgH,EAAaA,EAAWG,QACxB,IAAI,IAAI5G,EAAI,EAAGA,EAAIyG,EAAWvG,OAAQF,IAAKP,EAAqBgH,EAAWzG,IAC3E,IAAIU,EAAsBiG,EAI1B/F,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,8DC1QTc,EAAOD,QAAU,k1B,iKCIF,SAASkF,EAAWC,EAAUC,GAC5C,IAAIC,EAKJ,OAJIF,EAASE,SACZA,EAASD,EAAOD,EAASE,SAGnBA,EACJC,kBAAK,CACLC,QAASF,EAAOG,WAAP,kDAA+DC,mBAAmBJ,EAAOnC,MAAzF,QACTwC,SAAU,CAAC,GAAI,IACfC,WAAY,CAAC,GAAI,IACjBC,cAAe,CAAC,GAAI,GACpBC,YAAa,CAAC,GAAI,IAClBC,UAAW,oDAEXR,kBAAK,CACLC,QAASQ,IACTC,UAAWC,IACXP,SAAU,CAAC,GAAI,IACfC,WAAY,CAAC,GAAI,IACjBE,YAAa,CAAC,GAAI,IAClBD,cAAe,CAAC,IAAK,IACrBM,WAAY,CAAC,GAAI,Q,oCC1BrB,W,oJCAI,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgBC,MAAM,CAAC,GAAK,QAAQ,CAACH,EAAG,gBAAgB,IAC1KI,EAAkB,GCKtB,GACA,SADA,WAEA,0CACA,OACA,+BACA,qECX8T,I,YCO1TC,EAAY,eACd,EACA,EACAD,GACA,EACA,KACA,KACA,MAIa,EAAAC,E,oDClBX,EAAS,WAAa,IAAIT,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,2CAA2C,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,GAAG,OAAS,IAAIG,YAAYV,EAAIW,GAAG,CAAC,CAACvC,IAAI,UAAUwC,GAAG,WAAW,MAAO,CAACR,EAAG,OAAO,CAACE,YAAY,+BAA+BO,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBf,EAAIgB,SAASjI,MAAM,KAAMkI,cAAc,CAACb,EAAG,QAAQ,CAACc,IAAI,UAAUX,MAAM,CAAC,KAAO,QAAQM,GAAG,CAAC,OAASb,EAAImB,oBAAoBf,EAAG,SAAS,CAACE,YAAY,iHAAiHc,MAAM,CAAE,oBAAqBpB,EAAIqB,iBAAkBd,MAAM,CAAC,KAAO,SAAS,UAAYP,EAAIqB,kBAAkB,CAACrB,EAAIsB,GAAG,aAAalB,EAAG,IAAI,CAACE,YAAY,6FAA6FC,MAAM,CAAC,KAAO,KAAKM,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBf,EAAIuB,KAAKxI,MAAM,KAAMkI,cAAc,CAACjB,EAAIsB,GAAG,wBAAwBE,OAAM,OAAUpB,EAAG,MAAM,CAACG,MAAM,CAAC,UAAYP,EAAIyB,kBAAkBf,YAAYV,EAAIW,GAAG,CAAC,CAACvC,IAAI,UAAUwC,GAAG,WAAW,MAAO,CAACR,EAAG,eAAe,CAACG,MAAM,CAAC,OAASP,EAAI0B,OAAO,cAAgB1B,EAAI2B,eAAed,GAAG,CAAC,OAASb,EAAI4B,YAAY,KAAO5B,EAAI6B,KAAK,SAAW7B,EAAI8B,cAAcN,OAAM,GAAM,CAACpD,IAAI,OAAOwC,GAAG,WAAW,MAAO,CAAEZ,EAAgB,aAAEI,EAAG,aAAa,CAACE,YAAY,YAAYC,MAAM,CAAC,MAAQP,EAAI+B,gBAAgB/B,EAAIgC,OAAOR,OAAM,GAAM,CAACpD,IAAI,OAAOwC,GAAG,aAA6BY,OAAM,QAAW,IACz/C,EAAkB,G,kCCDlB,EAAS,WAAa,IAAIxB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACc,IAAI,MAAMX,MAAM,CAAC,KAAOP,EAAIiC,KAAK,OAASjC,EAAIkC,SAAS,CAAC9B,EAAG,aAAa,CAACG,MAAM,CAAC,IAAMP,EAAImC,IAAI,YAAcnC,EAAIoC,eAAehC,EAAG,WAAW,CAACE,YAAY,uBAAuB+B,YAAY,CAAC,MAAQ,SAAS9B,MAAM,CAAC,SAAW,cAAc,0BAA2B,IAAO,CAACP,EAAIsC,GAAG,SAAS,GAAGlC,EAAG,WAAW,CAACE,YAAY,sBAAsB+B,YAAY,CAAC,YAAY,QAAQ9B,MAAM,CAAC,SAAW,aAAa,0BAA2B,IAAO,CAACP,EAAIsC,GAAG,YAAY,GAAGlC,EAAG,WAAW,CAACE,YAAY,kBAAkB+B,YAAY,CAAC,YAAY,QAAQ9B,MAAM,CAAC,SAAW,aAAa,CAACP,EAAIsC,GAAG,SAAS,GAAGtC,EAAIuC,GAAIvC,EAAmB,iBAAE,SAAShB,GAAU,OAAOoB,EAAG,UAAU,CAAChC,IAAIY,EAASwD,GAAGjC,MAAM,CAAC,KAAO,QAAQ,UAAUvB,EAASyD,SAAS,KAAOzC,EAAIb,KAAKH,IAAW6B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAI0C,MAAM1D,MAAa,CAACoB,EAAG,WAAW,CAACG,MAAM,CAAC,QAAUvB,EAAS2D,gBAAgB,MAAKvC,EAAG,QAAQ,CAACG,MAAM,CAAC,cAAc,CAAC,GAAI,QAAQ,IACjgC,EAAkB,G,4GC4DtB,GACA,OACA,WACA,WACA,cAGA,eACA,YACA,YACA,kBACA,gBACA,eACA,gBACA,cAEA,QAhBA,WAiBA,0BAEA,UACA,gBADA,WACA,WACA,sBACA,+DAGA,KAzBA,WA0BA,OACA,OACA,8CACA,yDACA,YACA,8HAGA,SACA,UADA,WAEA,iBAEA,kBAJA,WAKA,8BACA,mDACA,eACA,eACA,mBAIA,2DAEA,KAfA,SAeA,GACA,0DAGA,OACA,UADA,WAEA,4BCpH4V,ICQxV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kFAAkF,CAAEN,EAAiB,cAAEI,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,KAAK,CAACE,YAAY,qBAAqB,CAACN,EAAIsB,GAAGtB,EAAI4C,GAAG5C,EAAI2B,cAAckB,UAAUzC,EAAG,KAAK,CAACE,YAAY,uCAAuC,CAACN,EAAIsB,GAAG,IAAItB,EAAI4C,GAAG,IAAIE,KAAK9C,EAAI2B,cAAcoB,OAAOC,kBAAkB,KAAK5C,EAAG,OAAO,CAACE,YAAY,iBAAiB,CAACN,EAAIsB,GAAG,OAAOtB,EAAIsB,GAAG,IAAItB,EAAI4C,GAAG5C,EAAIiD,UAAUjD,EAAI2B,cAAcoB,MAAO/C,EAAI2B,cAAcuB,KAAO,IAAIJ,KAAK9C,EAAI2B,cAAcuB,KAAKC,qBAAuB,IAAIL,KAAK9C,EAAI2B,cAAcuB,KAAKF,kBAAkB,SAAShD,EAAIgC,KAAK5B,EAAG,WAAW,CAACc,IAAI,WAAWX,MAAM,CAAC,MAAQP,EAAIoD,eAAe,QAAUpD,EAAIqD,QAAQ,OAAS,CAAC,UAAU,UAAYrD,EAAIsD,iBAAiBzC,GAAG,CAAC,OAASb,EAAIuD,iBAAiBnD,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,SAAS,CAACE,YAAY,4FAA4FO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAIwD,MAAM,eAAe,CAACpD,EAAG,IAAI,CAACE,YAAY,oCAAoCN,EAAIsB,GAAG,wBAAwBlB,EAAG,SAAS,CAACE,YAAY,4FAA4FO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAIwD,MAAM,WAAW,CAACxD,EAAIsB,GAAG,oBAAoBlB,EAAG,IAAI,CAACE,YAAY,6BAA6B,IAC17C,EAAkB,G,wBC4CtB,GACA,OACA,QACA,WACA,aAEA,eACA,cAGA,QAVA,WAaA,oBACA,yDAEA,YACA,iBAEA,UACA,gBADA,WAEA,sDAEA,eAJA,WAKA,+CAEA,0BACA,YAGA,aACA,SACA,aACA,gBAGA,SACA,cADA,YACA,cACA,0BACA,iCAGA,UANA,SAMA,KACA,OACA,wCACA,wCAIA,OACA,cADA,WACA,WACA,oBACA,kCACA,kDACA,iDCnGqW,ICQjW,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,4EAA4E+B,YAAY,CAAC,aAAa,SAAS,CAAErC,EAAgB,aAAE,CAACI,EAAG,SAAS,CAACgB,MAAO,aAAepB,EAAIyD,cAAgB,aAAezD,EAAIyD,cAAgB,6BAA8B5C,GAAG,CAAC,MAAQ,SAASC,GAAQd,EAAI0D,YAAc1D,EAAI0D,cAAc,CAAE1D,EAAc,WAAEI,EAAG,OAAO,CAACJ,EAAIsB,GAAG,cAAclB,EAAG,IAAI,CAACE,YAAY,uBAAuBF,EAAG,OAAO,CAACJ,EAAIsB,GAAG,eAAelB,EAAG,IAAI,CAACE,YAAY,2BAA2BF,EAAG,MAAM,CAACgB,MAAO,0DAA4DpB,EAAIyD,cAAgB,aAAezD,EAAIyD,cAAgB,QAAS,CAACrD,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAMP,EAAI2D,SAAStE,WAAc,2CAA8CC,mBAAmBU,EAAI2D,SAAS5G,MAAS,UAAWiD,EAAIsB,GAAG,IAAItB,EAAI4C,GAAG5C,EAAI2D,SAAS5G,MAAM,OAAOqD,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACN,EAAIsB,GAAG,IAAItB,EAAI4C,GAAG5C,EAAI4D,OAAO7G,MAAM,KAAKqD,EAAG,MAAM,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAMP,EAAI4D,OAAOvE,WAAc,2CAA8CC,mBAAmBU,EAAI4D,OAAO7G,MAAS,cAAeqD,EAAG,OAAO,CAACE,YAAY,4BAA4BuD,MAAO7D,EAAI0D,WAC30C,CACA,aAAc,MACdI,WAAY,EACZC,cAAe,GAEf,CAAE,aAAc,QAAUxD,MAAM,CAAC,OAASP,EAAI4D,OAAO,SAAW5D,EAAI2D,SAAS,SAAW3D,EAAIgE,SAAS,MAAQhE,EAAIyD,kBAAkBzD,EAAIgC,KAAK5B,EAAG,MAAM,CAACE,YAAY,8BAA8BN,EAAIuC,GAAIvC,EAAY,UAAE,SAASiE,GAAM,OAAO7D,EAAG,YAAY,CAAChC,IAAI6F,EAAKzB,GAAGqB,MAAQ,cAAiB,IAAI7D,EAAIkE,SAAS9L,OAAU,IAAMmI,MAAM,CAAC,MAAQP,EAAImE,UAAUF,EAAK/I,MAAM,MAAQ8E,EAAIoE,uBAAuBH,EAAKD,SAAUhE,EAAI2B,eAAevJ,OAAO,OAAS4H,EAAIqE,aAAa7B,KAAOyB,EAAKzB,IAAI3B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAIsE,WAAWL,MAAS,CAAC7D,EAAG,MAAM,CAACE,YAAY,oFAAoF,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIsB,GAAGtB,EAAI4C,GAAG5C,EAAIuE,SAASN,EAAKN,UAAU5G,SAASqD,EAAG,MAAM,CAACgB,MAAO,gBAAkBpB,EAAIyD,cAAgB,QAAS,CAACzD,EAAIsB,GAAG,IAAItB,EAAI4C,GAAG5C,EAAIwE,SAASP,EAAK/I,OAAO,cAAa,IAAI,IAC91B,EAAkB,G,oBCPP,SAASkJ,EAAuBJ,EAAU3I,GACxD,OAAO2I,EAASS,QACf,SAAA3H,GAAO,OACNA,EAAQ4H,KAAKC,eAAiBtJ,EAAM0H,MAAM4B,eACzC7H,EAAQ4H,KAAKC,eAAiBtJ,EAAM6H,IAAIyB,iBCJ5C,IAAI,EAAS,WAAa,IAAI3E,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACgB,MAAMpB,EAAI4E,QAAQrE,MAAM,CAAC,SAAyB,IAAdP,EAAI6E,OAAahE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAIwD,MAAM,QAAS1C,MAAW,CAACd,EAAIsC,GAAG,WAAWlC,EAAG,OAAO,CAACgB,MAAMpB,EAAI8E,cAAc,CAAC9E,EAAIsB,GAAGtB,EAAI4C,GAAG5C,EAAI6E,WAAW,IACpT,EAAkB,GCUtB,G,oBAAA,CACA,OACA,OACA,YACA,gBAEA,OACA,YACA,WAEA,QACA,aACA,aAGA,UACA,QADA,WAEA,mDACA,WADA,qIAGA,+CAGA,aARA,WASA,0KCnCkW,ICO9V,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,oBCyEf,GACA,OACA,OACA,WACA,cAGA,KAPA,WAQA,OACA,cACA,oBAGA,YAbA,WAcA,oCAEA,UACA,SADA,WACA,WACA,4EAEA,cAJA,WAKA,8EAEA,SAPA,WAQA,kCAEA,QACA,2BACA,oBAGA,UAEA,OAjBA,WAkBA,sCACA,2BAGA,SAtBA,WAuBA,sCACA,6BAGA,cA3BA,WA4BA,sBACA,+CAIA,YACA,YACA,aAEA,SACA,yBACA,SAFA,SAEA,GACA,6EAEA,WALA,SAKA,GACA,qBAEA,UARA,SAQA,GACA,UACA,eACA,cACA,UACA,eACA,eACA,aACA,QACA,eAGA,SApBA,SAoBA,GACA,UACA,eACA,iBACA,UACA,YACA,eACA,uBAIA,OACA,MADA,WACA,WAEA,oBAEA,kBACA,oEACA,qBCtLmW,ICO/V,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QCmCf,GACA,YACA,cACA,MACA,eACA,cAEA,KAPA,WAQA,OACA,qBAGA,QAZA,WAaA,+DAEA,UACA,gBADA,WAEA,8CAEA,UAJA,WAKA,uCAEA,OAPA,WAQA,+CAEA,cAVA,WAWA,4BAEA,qCAFA,MAIA,aAfA,WAgBA,0BAIA,yBAHA,MAKA,iBAtBA,WAuBA,0BAIA,6BAHA,KAMA,SACA,iBADA,WAEA,wDAEA,SAJA,WAKA,oEAEA,KAPA,WAQA,8BAEA,YAVA,SAUA,GACA,yCAEA,KAbA,WAaA,WACA,yBACA,gDAGA,gCAIA,qCAEA,SAxBA,WAwBA,WACA,yBACA,gDAGA,cAIA,sCAGA,OACA,UADA,WAEA,iECxI6U,ICOzU,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,K,QCdfE,aAAIC,IAAIC,QAER,IAAMC,GAAS,CACd,CACCC,KAAM,IACNpI,KAAM,MACN0D,UAAW2E,IAEZ,CACCD,KAAM,UACNpI,KAAM,SAIN0D,UAAW,kBACV,wCAIG4E,GAAS,IAAIJ,OAAU,CAC5BC,YAGcG,M,aCpBA,IACdC,YAAY,EACZC,MAAO,iBAAO,CACbjC,gBAAiB,OAElBkC,UAAW,CACV5D,YADU,SACE2D,EAAO/C,GAClB+C,EAAMjC,gBAAkBd,IAG1BiD,QAAS,I,wICbNC,GAAM9G,OAAO8G,IAYV,SAAeC,GAAtB,6C,gEAAO,WAA2BC,EAAa3G,EAAQ4G,EAAOC,EAAWpE,EAAQqE,GAA1E,kHACNrH,QAAQsH,IAAI/G,EAAQ4G,EAAOC,EAAWpE,EAAQqE,GAExCE,EAAY,IAAIC,KACrB,CAACC,KAAKC,UAAU,CAAER,cAAa3G,SAAQ4G,QAAOC,YAAWpE,UAAU,KAAM,IACzE,CAAExG,KAAM,qBAEHmL,EAAa,IAAIX,GAAIY,WAAW,mBAChCC,EAAY,IAAIb,GAAIc,UAAUH,GAR9B,SASAE,EAAUE,IAAI,WAAY,IAAIf,GAAIgB,WAAWT,IAT7C,aAWa5N,OAAOsO,OAAOd,GAX3B,yCAWK5B,EAXL,KAYLvF,QAAQsH,IAAI/B,GAZP,kBAciBA,EAAKD,UAdtB,8DAcMlH,EAdN,QAeJ4B,QAAQsH,IAAIlJ,IAERA,EAAQ8J,SAjBR,4CAmBiBC,gBAAS/J,EAAQ8J,SAASE,QAAQ,SAAU,kBAAmB,MAnBhF,eAmBIC,EAnBJ,OAoBIC,EAAO,IAAId,KAAK,CAACa,EAAKE,QAAS,CAAE/L,KAAM,eApB3C,UAqBIqL,EAAUE,IAAI3J,EAAQ8J,SAAU,IAAIlB,GAAIgB,WAAWM,IArBvD,8DAuBFtI,QAAQjC,MAAM,qBAAd,MAvBE,gMA6BA8J,EAAUW,QA7BV,iCA+BCb,EAAWc,WA/BZ,yE,yBAXPzI,QAAQsH,IAAIN,ICyLG,QACdJ,YAAY,EACZC,MAAO,iBAAO,CACbK,YAAa,eACb3G,OAAQ,GACR4G,MAAO,GACPC,UAAW,GACXpE,OAAQ,GAGRqE,MAAO,KAERqB,QAAS,CACRC,UADQ,SACE9B,GACT,OAAOlN,OAAOsO,OAAOpB,EAAM7D,QAAQ4F,MAAK,SAACC,EAAGC,GAC3C,IAAMC,EAASF,EAAExE,MACX2E,EAASF,EAAEzE,MAEjB,OAAI0E,EAASC,GACJ,EACED,EAASC,EACZ,EAEA,KAENC,KAAI,SAACtM,GAAD,uBAAC,mBACJA,GADG,IAENuM,QAASvM,EAAMwH,aAIlB2C,UAAW,CACVqC,OADU,SACHtC,EAAOuC,GACbvC,EAAMK,YAAckC,EAAIlC,aAAe,eACvCL,EAAMtG,OAAS6I,EAAI7I,QAAU,GAC7BsG,EAAMM,MAAQiC,EAAIjC,OAAS,GAC3BN,EAAMO,UAAYgC,EAAIhC,WAAa,GACnCP,EAAM7D,OAASoG,EAAIpG,QAAU,GAC7B6D,EAAMQ,MAAQ+B,EAAI/B,OAAS,IAG5BgC,eAVU,SAUKxC,EAAOxI,GACrBwI,EAAMK,YAAc7I,GAMrBiL,YAjBU,SAiBEzC,EAAOlK,GAClB0J,aAAIkD,IAAI1C,EAAM7D,OAAQrG,EAAMmH,GAAInH,IAGjC6M,YArBU,SAqBE3C,EAAO4C,GAClBpD,aAAIqD,OAAO7C,EAAM7D,OAAQyG,IAM1BE,SA5BU,SA4BD9C,EAAOM,GACfN,EAAMM,MAAN,mCACIN,EAAMM,OACNA,IAOLyC,SAtCU,SAsCD/C,GAAmB,IAAZQ,EAAY,uDAAJ,GACvBR,EAAMQ,MAAN,mCACIR,EAAMQ,OACNA,IAOLwC,eAhDU,SAgDKhD,EAAOvG,GACrB+F,aAAIkD,IAAI1C,EAAMO,UAAW9G,EAASwD,GAAIxD,IAGvCwJ,eApDU,SAoDKjD,EAAOvG,GACrB+F,aAAIqD,OAAO7C,EAAMO,UAAW9G,EAASwD,KAGtCiG,kBAxDU,SAwDQlD,EAxDR,GAwDqC,IAApBvG,EAAoB,EAApBA,SAAUE,EAAU,EAAVA,OACpCqG,EAAMO,UAAU9G,EAASwD,IAAItD,OAASA,GAMvCwJ,aA/DU,SA+DGnD,EAAOrG,GACnB6F,aAAIkD,IACH1C,EAAMtG,OACNC,EAAOsD,GACNtD,EAAOsD,MAAM+C,EAAMtG,OAApB,gBAAC,mBACOsG,EAAMtG,OAAOC,EAAOsD,KAAQtD,GACjCA,IAILyJ,aAzEU,SAyEGpD,EAAO/C,GACnBuC,aAAIqD,OAAO7C,EAAMtG,OAAQuD,KAG3BiD,QAAS,CACFmD,aADE,SACWC,GAAS,uKACRlD,GAAYkD,EAAQtD,MAAMK,YAAaiD,EAAQtD,MAAMtG,OAAQ4J,EAAQtD,MAAMM,MAAOgD,EAAQtD,MAAMO,UAAW+C,EAAQtD,MAAM7D,OAAQmH,EAAQtD,MAAMQ,OADvI,OACrBiB,EADqB,OAErBpP,EAAOgH,OAAOkK,IAAIC,gBAAgB/B,GAGlCgC,EAAOvO,SAASQ,cAAc,KACpC+N,EAAK1O,KAAO1C,EACZoR,EAAKC,SAAL,WAAmB,IAAInG,MAAO6B,cAAcuE,MAAM,KAAK,GAAvD,QAGAF,EAAKG,cACJ,IAAIC,WAAW,QAAS,CACvBC,SAAS,EACTC,YAAY,EACZC,KAAM3K,UAIR3B,YAAW,WAEV2B,OAAOkK,IAAIU,gBAAgB5R,GAC3BoR,EAAKS,WACH,KAtBwB,8CAyBtBzI,SA1BE,SA0BO6H,EAAS9B,GAAM,yJAC7B8B,EAD6B,SACEa,gBAAY3C,GADd,wBACrB4C,OADqB,UACd,SADc,sDC7ThC5E,aAAIC,IAAI4E,SAEO,WAAIA,QAAKC,MAAM,CAC7BtE,MAAO,CACNtG,OAAQ,CACP6K,EAAG,CACF/M,KAAM,mBACNsC,UAAW,6BAEZ0K,EAAG,CACFhN,KAAM,gBACNsC,UAAW,+BAIdmG,UAAW,GACXC,QAAS,GACT9M,QAAS,CACRgP,OACAqC,Y,8ECbaC,K,gGAAf,8GACOC,kBADP,OAGCnF,aAAIC,IAAImF,MACRpF,aAAIC,IAAIoF,SAERrF,aAAIsF,OAAOC,eAAgB,EAE3B,IAAIvF,aAAI,CACPM,UACAkF,SACAC,OAAQ,SAACC,GAAD,OAAOA,EAAEC,MACfC,OAAO,QAZX,2C,yBAeAV,KAAOW,OAAM,SAAC5Q,GAAD,OAAO0E,QAAQjC,MAAM,gBAAiBzC,O,qBC5BnDF,EAAOD,QAAU,87D,oCCAjB,W,oCCAA,IAAI2Q,EAAS,WAAa,IAAIxK,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACgB,MAAM,CAAE,yEAAyE,EAAM,aAAcpB,EAAI6K,MAAO,cAAe7K,EAAI6K,QAAS,CAACzK,EAAG,KAAK,CAACE,YAAY,UAAU,CAACF,EAAG,QAAQ,CAACE,YAAY,wGAAwGc,MAAM,CAAE,UAAWpB,EAAI6K,MAAO,WAAY7K,EAAI6K,OAAQtK,MAAM,CAAC,KAAO,OAAO,KAAO,GAAG,SAAWP,EAAI8K,QAAQC,SAAS,CAAC,MAAQ/K,EAAI4F,aAAa/E,GAAG,CAAC,MAAQb,EAAIgL,wBAAwB5K,EAAG,MAAM,CAACE,YAAY,uDAAuD,CAACN,EAAIsC,GAAG,QAAQ,GAAGlC,EAAG,MAAM,CAACE,YAAY,8CAA8C,CAACN,EAAIsC,GAAG,YAAY,MACrwB9B,EAAkB,GC0BtB,GACA,OACA,OACA,cAEA,QACA,aACA,+BAGA,UACA,YADA,WAEA,6CAGA,SACA,mBADA,SACA,GACA,6DC5C+V,I,YCO3VC,EAAY,eACd,EACA+J,EACAhK,GACA,EACA,KACA,KACA,MAIa,OAAAC,E,kWCZJwK,EAAK,IAAIC,EAAUC,WAAWC,oBAE5BC,EAASH,EAAUI,WAAW,UAAUD,OAE9C,SAAenB,IAAtB,+B,8DAAO,qGAENgB,EAAUK,WAAWN,GAErBvM,QAAQsH,IAAIwF,eAMZP,EAAGQ,MACF,UACA,IAAIP,EAAUC,WAAWO,UAZpB,SAcAC,EAAM,iBAdN,uBAeAC,EAAU,yBAA0B,gBAfpC,OAiBNhN,OAAOqM,GAAKA,EACZrM,OAAOsM,UAAYA,EAlBb,2C,wBAqBA,SAAeW,EAAtB,kC,8DAAO,WAA4BC,GAA5B,0GAAqCC,EAArC,+BAAgD,UAAhD,kBACC,IAAI5R,SAAQ,SAACC,EAASC,GACxB4Q,EAAGe,WAAWD,IACjBd,EAAGgB,OAAOF,GAGX,IAAMG,EAAS,IAAIC,WACnBD,EAAO/Q,OAAS,SAAUnB,GACzB,IAAMoS,EAAcpS,EAAEuB,OAAOtC,OAE7BgS,EAAGQ,MACFM,EACA,IAAIb,EAAUC,WAAWkB,MAAMhB,EAAOiB,KAAKF,KAG5ChS,KAED8R,EAAO9Q,QAAUf,EACjB6R,EAAOK,kBAAkBT,OAlBpB,2C,wBAkCA,SAAejF,EAAtB,kC,8DAAO,WAAwBE,GAAxB,4GAA8ByF,EAA9B,+BAAyC,OAAQC,EAAjD,+BAAwD,IAAIjB,cAAS,KAArE,kBACC,IAAIrR,SAAQ,SAACC,EAASC,GAC5B4Q,EAAGpE,SAASE,EAAMyF,EAAUC,GAAM,SAACzS,EAAG0S,GACjC1S,EACHK,EAAOL,GAEPI,EAAQsS,UANL,2C,wBAYA,SAAed,EAAtB,oC,8DAAO,WAAyBe,EAAO/E,GAAhC,0GACC,IAAIzN,SAAQ,SAACC,EAASC,GAC5B4Q,EAAGW,UAAUe,EAAO/E,EAAS,OAAQ,IAAI4D,cAAS,MAAO,GAAG,SAACxR,GACxDA,EACHK,EAAOL,GAEPI,WANG,2C,wBAYA,SAAewS,EAAtB,kC,8DAAO,WAA+BD,GAA/B,+FACFE,EAAQF,EAAMzD,MAAM,KACxB2D,EAAQA,EAAM/N,MAAM,EAAG+N,EAAMzU,OAAS,GAEtCsG,QAAQsH,IAAI,QAAS6G,GAEjBC,EAAM,GANJ,iBAOaD,GAPb,IAON,2BAAW1H,EAAe,QACzB2H,GAAO,IAAM3H,EAEbzG,QAAQsH,IAAI,cAAe8G,EAAKD,GAE3B5B,EAAGe,WAAWc,IAClB7B,EAAG8B,UAAUD,GAbT,yE,wBAiBA,SAAenB,EAAtB,kC,8DAAO,WAAqBgB,GAArB,0GACC,IAAIxS,SAAQ,SAACC,EAASC,GAC5B4Q,EAAGU,MAAMgB,EAAO,GAAG,SAAC3S,GACfA,EACHK,EAAOL,GAEPI,WANG,2C,mFC1GP,IAAIoQ,EAAS,WAAa,IAAIxK,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,8CAA8C,CAACF,EAAG,MAAM,CAACE,YAAY,4DAA4D,CAACN,EAAIsB,GAAG,IAAItB,EAAI4C,GAAG5C,EAAIgN,cAAchK,kBAAkB,OAAOhD,EAAIuC,GAAIvC,EAAmB,iBAAE,SAASlD,GAAS,OAAOsD,EAAG,SAAS,CAAChC,IAAItB,EAAQ0F,GAAGjC,MAAM,CAAC,QAAUzD,EAAQ,MAAQA,EAAQmQ,SAAS,OAASnQ,EAAQmQ,SAAWjN,EAAI4D,OAAS5D,EAAI2D,SAAS,MAAS3D,EAAIkN,MAAQ,cAAc,IAC9gB1M,EAAkB,G,YCDlB,G,UAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACgB,MAAO,gBAAkBpB,EAAImN,MAAQ,oBAAsB,wBAAyB,CAAC/M,EAAG,MAAM,CAACgB,MAAO,yBAA2BnB,KAAKkN,MAAQ,mBAAqB,KAAM,CAAC/M,EAAG,MAAM,CAACE,YAAY,uBAAuBC,MAAM,CAAC,IAAMP,EAAI4D,OAAOvE,WAAc,2CAA8CC,mBAAmBU,EAAI4D,OAAO7G,MAAS,UAAWqD,EAAG,MAAM,CAACgB,MAAMpB,EAAI4E,SAAS,CAAE5E,EAAIlD,QAAgB,SAAEsD,EAAG,SAAS,CAACE,YAAY,qBAAqB,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAMP,EAAIlD,QAAQ8J,SAAS,KAAO5G,EAAIlD,QAAQsQ,UAAUvM,GAAG,CAAC,MAAQb,EAAIqN,iBAAiB,GAAGrN,EAAIgC,KAAMhC,EAAIlD,QAAY,KAAEsD,EAAG,IAAI,CAACgB,MAAM,4BAA4B,CAACpB,EAAIsB,GAAG,IAAItB,EAAI4C,GAAG5C,EAAIlD,QAAQwQ,MAAM,OAAOtN,EAAIgC,KAAK5B,EAAG,OAAO,CAACgB,MAAO,2CAA6CpB,EAAImN,MAAQ,aAAe,KAAM,CAACnN,EAAIsB,GAAG,IAAItB,EAAI4C,GAAG5C,EAAIlD,QAAQ4H,KAAK1B,kBAAkB,eACv6B,EAAkB,G,YCDlB,EAAS,WAAa,IAAIhD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEJ,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,SAASC,MAAM,CAAC,IAAMP,EAAImC,KAAKtB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAIwD,MAAM,QAAS1C,OAAYV,EAAG,QAAQ,CAACE,YAAY,SAASC,MAAM,CAAC,SAAW,GAAG,KAAO,KAAK,CAACH,EAAG,SAAS,CAACG,MAAM,CAAC,IAAMP,EAAImC,IAAI,KAAOnC,EAAIuN,aAC5V,EAAkB,GCkBtB,GACA,OACA,KACA,YACA,aAEA,MACA,YACA,uBAGA,KAXA,WAYA,OACA,aAGA,QAhBA,aAwBA,UACA,IADA,WAEA,gDAEA,QAJA,WAKA,yDChD8V,I,YCO1V9M,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCsBf,GACA,OACA,SACA,YACA,aAEA,QACA,YACA,0BACA,0CACA,iBACA,UACA,8HACA,kBAGA,OACA,aACA,YAEA,OACA,YACA,qBAGA,UACA,QADA,WACA,MACA,UACA,kDADA,8CAEA,0BAFA,iBAGA,2CAHA,IAOA,SACA,aADA,SACA,GACA,iBACA,sBACA,SACA,WACA,eAKA,YACA,UCtF+V,ICO3V,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QCAf,GACA,OACA,UACA,WACA,aAEA,QACA,YACA,aAEA,UACA,YACA,aAEA,OACA,YACA,iBAEA,WACA,WAEA,UACA,YACA,yDAGA,UACA,cADA,WAEA,wEAEA,gBAJA,WAKA,sCACA,kBAGA,kBACA,GAHA,OASA,YACA,UAGA,YChE6V,ICOzV,EAAY,eACd,EACA+J,EACAhK,GACA,EACA,KACA,KACA,MAIa,S,uVCVXgN,EAAM,KAEH,SAAeC,IAAtB,+B,8DAAO,iGACDD,EADC,gCAEO5O,OAAO8O,UAAU,CAG5BC,WAAY,SAAC5G,GAAD,oEAAiEA,MALzE,OAELyG,EAFK,uCASCA,GATD,2C,wBAYA,SAAeI,EAAtB,oC,8DAAO,WAA6B3G,EAA7B,yGAAuCpB,EAAvC,EAAuCA,MAAO5G,EAA9C,EAA8CA,OAAQ8G,EAAtD,EAAsDA,MAAtD,SACY0H,IADZ,cACAI,EADA,OAEAC,EAAK,IAAID,EAAIE,SAAS9G,GAE5B6G,EAAGE,KAAH,kDAEC,IACA,SAAUC,GACT,IAAIC,EAAgB,CACnB1L,GAAIyL,EAAIE,QACRpR,KAAMkR,EAAIG,cAGXnP,EAAOiP,EAAc1L,IAArB,+BACCA,GAAIyL,EAAIE,SACJlP,EAAOiP,EAAc1L,KAAO,IAFjC,IAGCzF,KAAMkR,EAAIG,cAAgBH,EAAIE,aAhB3B,kBAqBC,CACNtI,QACA5G,SACA8G,UAxBK,2C,wBA4BA,SAAesI,EAAtB,kC,8DAAO,WAA6BpH,GAA7B,2HACYwG,IADZ,OAoEN,IAnEMI,EADA,OAEAC,EAAK,IAAID,EAAIE,SAAS9G,GAExBhI,EAAS,GACT+E,EAAW,GACX6B,EAAQ,GACRE,EAAQ,GACRuI,EAAe,GAEnBR,EAAGE,KAAH,sKAOC,IACA,SAAUC,GACT,IAAIC,EAAgB,CACnB1L,GAAIyL,EAAIM,eACRxR,KAAMkR,EAAIM,eACVlP,UAAW,8HACX6N,MAAO,SAGHjO,EAAOiP,EAAc1L,IAGzB0L,EAAgBjP,EAAOiP,EAAc1L,IAFrCvD,EAAOiP,EAAc1L,IAAM0L,EAK5B,IAAMpR,EAAU,CACf0F,GAAIgM,MACJ5K,OAAQsK,EAAc1L,GACtBiM,OAAQP,EAAc1L,GACtBkC,KAAM,IAAI5B,KAAKmL,EAAIS,WACnBxT,KAAM,OACN+R,SAA8B,IAApBgB,EAAIU,YACdrB,KAAMW,EAAIrW,MAAQqW,EAAIW,cACtBhI,SAAUqH,EAAIY,UACdzB,SAAUa,EAAIa,iBAGXhS,EAAQ8J,UACX0H,EAAa5V,KAAK,wCAAC,iIAEEmO,eAAS/J,EAAQ8J,SAASE,QAAQ,SAAU,gDAAiD,MAF/F,cAEXC,EAFW,OAGXC,EAAO,IAAId,KAAK,CAACa,EAAKE,QAAS,CAAE/L,KAAM4B,EAAQsQ,UAAY,eACjErH,EAAMjJ,EAAQ8J,UAAYkC,IAAIC,gBAAgB/B,GAGxC7B,EAAOrI,EAAQ8J,SAASE,QAAQ,SAAU,kBAChDpI,QAAQsH,IAAIb,GARK,UASXyH,eAAgBzH,GATL,yBAUXyG,eAAUzG,EAAM4B,EAAM,MAVX,6DAYjBrI,QAAQjC,MAAM,uBAAwBK,EAAQ8J,SAA9C,MAZiB,yDAAD,KAiBf9J,EAAQwQ,MAAQxQ,EAAQ8J,WAC3B5C,EAAStL,KAAKoE,MAKjB,MAAsBkH,EAAtB,eAAWlH,EAAqB,KACzB0F,EADyB,eACZ1F,EAAQ2R,QACvBjM,KAAMqD,EACTA,EAAMrD,GAAIwB,SAAStL,KAAKoE,GAExB+I,EAAMrD,GAAM,CACXA,GAAIA,EACJtH,KAAM,WACNyI,SAAU7G,EAAQ2R,OAClB7K,OAAQ,KACRI,SAAU,CAAElH,IA9ET,iBAmFA3C,QAAQ4U,WAAWT,GAnFnB,iCAqFC,CACNzI,QACA5G,SACA8G,UAxFK,4C,wBA4FA,SAAe2D,EAAtB,kC,8DAAO,WAA2B3C,GAA3B,6HACA8E,eAAa9E,EAAM,SADnB,mBAEQZ,KAFR,SAEyBU,eAAS,kBAFlC,mBAEFmI,EAFE,KAEaC,MAFb,gBAINvQ,QAAQsH,IAAIgJ,GAEZA,EAAQjJ,MAAQ,GANV,MAQa1N,OAAOsO,OAAOqI,EAAQnJ,OARnC,0CAQK5B,EARL,sBASiBA,EAAKD,UATtB,8DASMlH,EATN,kBAWHA,EAAQ4H,KAAO,IAAI5B,KAAKhG,EAAQ4H,MAChChG,QAAQwQ,KAAKpS,EAAQ8J,WACjB9J,EAAQ8J,SAbT,kCAciBC,eAAS,SAAD,OAAU/J,EAAQ8J,UAAY,MAdvD,eAcIG,EAdJ,OAeIC,EAAO,IAAId,KAAK,CAACa,EAAKE,QAAS,CAAE/L,KAAM4B,EAAQsQ,UAAY,eACjE4B,EAAQjJ,MAAMjJ,EAAQ8J,UAAYkC,IAAIC,gBAAgB/B,GAhBpD,UAmBI4F,eAAgB,WAAD,OAAY9P,EAAQ8J,WAnBvC,yBAoBIgF,eAAU,WAAD,OAAY9O,EAAQ8J,UAAYG,EAAM,MApBnD,8DAuBHrI,QAAQjC,MAAM,uBAAwBK,EAAQ8J,SAA9C,MAvBG,gLA4BN,UAAoBvO,OAAOsO,OAAOqI,EAAQtN,QAA1C,eAAWrG,EAAwC,KAClDA,EAAM0H,MAAQ,IAAID,KAAKzH,EAAM0H,OAC7B1H,EAAM6H,IAAM,IAAIJ,KAAKzH,EAAM6H,KA9BtB,yBAiCC8L,GAjCD,yE","file":"js/app.4cd2a0b4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"map\":\"map\"}[chunkId]||chunkId) + \".\" + {\"map\":\"d4edc033\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"map\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"map\":\"map\"}[chunkId]||chunkId) + \".\" + {\"map\":\"af3a89c9\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC\"","import markerIcon from '@/assets/marker-icon.png';\nimport markerShadow from '@/assets/marker-shadow.png';\nimport { icon } from 'leaflet';\n\nexport default function createIcon(location, people) {\n\tlet person;\n\tif (location.person) {\n\t\tperson = people[location.person];\n\t}\n\n\treturn person\n\t\t? icon({\n\t\t\t\ticonUrl: person.avatarUrl || `https://avatars.dicebear.com/api/bottts/${encodeURIComponent(person.name)}.svg`,\n\t\t\t\ticonSize: [32, 32],\n\t\t\t\ticonAnchor: [16, 16],\n\t\t\t\ttooltipAnchor: [16, 0],\n\t\t\t\tpopupAnchor: [1, -34],\n\t\t\t\tclassName: `rounded-full shadow-lg border-2 border-gray-500`,\n\t\t  })\n\t\t: icon({\n\t\t\t\ticonUrl: markerIcon,\n\t\t\t\tshadowUrl: markerShadow,\n\t\t\t\ticonSize: [25, 41],\n\t\t\t\ticonAnchor: [12, 41],\n\t\t\t\tpopupAnchor: [1, -34],\n\t\t\t\ttooltipAnchor: [16, -28],\n\t\t\t\tshadowSize: [41, 41],\n\t\t  });\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-col\",attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div id=\"app\" class=\"flex flex-col\">\n\t\t<router-view />\n\t</div>\n</template>\n<script type=\"text/javascript\">\nexport default {\n\tmetaInfo() {\n\t    const name = this.$store.state.setup.projectName;\n\t    return {\n\t\t\ttitleTemplate: () => (\n\t\t\t\tname !== 'Forensik Viz' ? `${name} - Forensik Viz` : 'Forensik Viz'\n\t\t\t)\n\t    }\n\t  }\n}\n</script>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=9f2dfe06&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map fixed w-full h-screen flex flex-col\"},[_c('Header',{attrs:{\"small\":\"\",\"locked\":\"\"},scopedSlots:_vm._u([{key:\"actions\",fn:function(){return [_c('form',{staticClass:\"flex gap-2 px-2 items-center\",on:{\"submit\":function($event){$event.preventDefault();return _vm.loadFile.apply(null, arguments)}}},[_c('input',{ref:\"vizFile\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.onVizFileChanged}}),_c('button',{staticClass:\"py-1 px-4 rounded-md text-gray-700 bg-gray-200 hover:text-blue-900 disabled:opacity-50 disabled:cursor-default\",class:{ 'hover:bg-blue-200': _vm.visFileSelected },attrs:{\"type\":\"submit\",\"disabled\":!_vm.visFileSelected}},[_vm._v(\" Laden \")]),_c('a',{staticClass:\"block py-1 px-4 rounded-md text-gray-700 bg-gray-200 hover:bg-blue-200 hover:text-blue-900\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.edit.apply(null, arguments)}}},[_vm._v(\" Bearbeiten ➝ \")])])]},proxy:true}])}),_c('Map',{attrs:{\"locations\":_vm.currentLocations},scopedSlots:_vm._u([{key:\"control\",fn:function(){return [_c('EventControl',{attrs:{\"events\":_vm.events,\"selectedEvent\":_vm.selectedEvent},on:{\"select\":_vm.selectEvent,\"next\":_vm.next,\"previous\":_vm.previous}})]},proxy:true},{key:\"chat\",fn:function(){return [(_vm.currentChats)?_c('ChatWindow',{staticClass:\"shadow-lg\",attrs:{\"chats\":_vm.currentChats}}):_vm._e()]},proxy:true},{key:\"load\",fn:function(){return undefined},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('LMap',{ref:\"map\",attrs:{\"zoom\":_vm.zoom,\"center\":_vm.center}},[_c('LTileLayer',{attrs:{\"url\":_vm.url,\"attribution\":_vm.attribution}}),_c('LControl',{staticClass:\"w-full max-w-2xl p-3\",staticStyle:{\"width\":\"400px\"},attrs:{\"position\":'bottomright',\"disableScrollPropagation\":true}},[_vm._t(\"chat\")],2),_c('LControl',{staticClass:\"w-full max-w-xl p-5\",staticStyle:{\"min-width\":\"40vw\"},attrs:{\"position\":'bottomleft',\"disableScrollPropagation\":true}},[_vm._t(\"control\")],2),_c('LControl',{staticClass:\"w-full max-w-xl\",staticStyle:{\"min-width\":\"10vw\"},attrs:{\"position\":'topright'}},[_vm._t(\"load\")],2),_vm._l((_vm.mappedLocations),function(location){return _c('LMarker',{key:location.id,attrs:{\"name\":\"lolol\",\"lat-lng\":location.position,\"icon\":_vm.icon(location)},on:{\"click\":function($event){return _vm.alert(location)}}},[_c('LTooltip',{attrs:{\"content\":location.description}})],1)}),_c('LIcon',{attrs:{\"icon-anchor\":[16, 16]}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<LMap ref=\"map\" :zoom=\"zoom\" :center=\"center\">\n\t\t<LTileLayer :url=\"url\" :attribution=\"attribution\" />\n\t\t<LControl\n\t\t\tclass=\"w-full max-w-2xl p-3\"\n\t\t\tstyle=\"width: 400px\"\n\t\t\t:position=\"'bottomright'\"\n\t\t\t:disableScrollPropagation=\"true\"\n\t\t>\n\t\t\t<slot name=\"chat\" />\n\t\t</LControl>\n\t\t<LControl\n\t\t\t:position=\"'bottomleft'\"\n\t\t\tclass=\"w-full max-w-xl p-5\"\n\t\t\tstyle=\"min-width: 40vw\"\n\t\t\t:disableScrollPropagation=\"true\"\n\t\t>\n\t\t\t<slot name=\"control\" />\n\t\t</LControl>\n\t\t<LControl\n\t\t\t:position=\"'topright'\"\n\t\t\tclass=\"w-full max-w-xl\"\n\t\t\tstyle=\"min-width: 10vw\"\n\t\t>\n\t\t\t<slot name=\"load\" />\n\t\t</LControl>\n\n\t\t<LMarker\n\t\t\tv-for=\"location in mappedLocations\"\n\t\t\t:key=\"location.id\"\n\t\t\tname=\"lolol\"\n\t\t\t:lat-lng=\"location.position\"\n\t\t\t:icon=\"icon(location)\"\n\t\t\t@click=\"alert(location)\"\n\t\t>\n\t\t\t<LTooltip :content=\"location.description\" />\n\t\t</LMarker>\n\n\t\t<LIcon :icon-anchor=\"[16, 16]\">\n\t\t\t<!-- <img\n\t\t\t\tclass=\"rounded-full shadow\"\n\t\t\t\t:src=\"location.person ? location.person.avatarUrl : null\"\n\t\t\t/> -->\n\t\t</LIcon>\n\t</LMap>\n</template>\n\n<script>\nimport 'leaflet/dist/leaflet.css';\nimport { latLng } from 'leaflet';\nimport {\n\tLMap,\n\tLTileLayer,\n\tLControl,\n\tLMarker,\n\tLTooltip,\n\tLIcon,\n} from 'vue2-leaflet';\n\nimport createIcon from '@/util/create-icon';\n\nexport default {\n\tprops: {\n\t\tlocations: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tname: 'Example',\n\tcomponents: {\n\t\tLMap,\n\t\tLTileLayer,\n\t\tLControl,\n\t\tLMarker,\n\t\tLTooltip,\n\t\tLIcon,\n\t},\n\tmounted() {\n\t\tthis.recalculateBounds();\n\t},\n\tcomputed: {\n\t\tmappedLocations() {\n\t\t\treturn this.locations\n\t\t\t.map((location) => this.$store.state.setup.locations[location]);\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tzoom: 6,\n\t\t\tcenter: latLng(51.38619, 10.56072),\n\t\t\turl: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n\t\t\tattribution:\n\t\t\t\t'&copy; <a href=\"https://mateffy.me\">Lukas Mateffy</a> & <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n\t\t};\n\t},\n\tmethods: {\n\t\tshowAlert() {\n\t\t\talert('Click!');\n\t\t},\n\t\trecalculateBounds() {\n\t\t\tif (this.locations.length === 0) return;\n\t\t\tconst bounds = this.mappedLocations.map((location) => [\n\t\t\t\tlocation.position.lat,\n\t\t\t\tlocation.position.lng,\n\t\t\t\t\t\t\tconsole.log(location)\n\n\t\t\t]);\n\n\t\t\tthis.$refs.map.fitBounds(bounds, { padding: [50, 50], maxZoom: 14 });\n\t\t},\n\t\ticon(location) {\n\t\t\treturn createIcon(location, this.$store.state.setup.people);\n\t\t}\n\t},\n\twatch: {\n\t\tlocations() {\n\t\t\tthis.recalculateBounds();\n\t\t},\n\t},\n};\n</script>\n\n<style>\n.example-custom-control {\n\tbackground: #fff;\n\tpadding: 0 0.5em;\n\tborder: 1px solid #aaa;\n\tborder-radius: 0.1em;\n}\n.custom-control-watermark {\n\tfont-size: 200%;\n\tfont-weight: bolder;\n\tcolor: #aaa;\n\ttext-shadow: #555;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=19ace64b&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg-gray-200 rounded-lg px-3 py-3 flex flex-col gap-3 w-full max-w-md shadow-md\"},[(_vm.selectedEvent)?_c('div',{staticClass:\"flex flex-col\"},[_c('h1',{staticClass:\"text-lg font-bold\"},[_vm._v(_vm._s(_vm.selectedEvent.title))]),_c('h2',{staticClass:\"text-base font-medium text-gray-500\"},[_vm._v(\" \"+_vm._s(new Date(_vm.selectedEvent.start).toLocaleString())+\" \"),_c('span',{staticClass:\"text-gray-400\"},[_vm._v(\"–\")]),_vm._v(\" \"+_vm._s(_vm.isSameDay(_vm.selectedEvent.start, _vm.selectedEvent.end) ? new Date(_vm.selectedEvent.end).toLocaleTimeString() : new Date(_vm.selectedEvent.end).toLocaleString())+\" \")])]):_vm._e(),_c('Timeline',{ref:\"timeline\",attrs:{\"items\":_vm.timelineEvents,\"options\":_vm.options,\"events\":['select'],\"selection\":_vm.selectedEventId},on:{\"select\":_vm.onEventSelect}}),_c('div',{staticClass:\"w-full flex\"},[_c('button',{staticClass:\"rounded-l bg-gray-500 text-gray-100 hover:bg-gray-600 active:bg-gray-700 px-2 py-2 flex-1\",on:{\"click\":function($event){return _vm.$emit('previous')}}},[_c('i',{staticClass:\"el-icon-arrow-left el-icon-left\"}),_vm._v(\" Vorheriges Event \")]),_c('button',{staticClass:\"rounded-r bg-gray-500 text-gray-100 hover:bg-gray-600 active:bg-gray-700 px-2 py-2 flex-1\",on:{\"click\":function($event){return _vm.$emit('next')}}},[_vm._v(\" Nächstes Event \"),_c('i',{staticClass:\"el-icon-arrow-right\"})])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div\n\t\tclass=\"bg-gray-200 rounded-lg px-3 py-3 flex flex-col gap-3 w-full max-w-md shadow-md\"\n\t>\n\t\t<div class=\"flex flex-col\" v-if=\"selectedEvent\">\n\t\t\t<h1 class=\"text-lg font-bold\">{{ selectedEvent.title }}</h1>\n\t\t\t<h2 class=\"text-base font-medium text-gray-500\">\n\t\t\t\t{{ new Date(selectedEvent.start).toLocaleString() }}\n\t\t\t\t<span class=\"text-gray-400\">–</span>\n\t\t\t\t{{\n\t\t\t\t\tisSameDay(selectedEvent.start, selectedEvent.end)\n\t\t\t\t\t\t? new Date(selectedEvent.end).toLocaleTimeString()\n\t\t\t\t\t\t: new Date(selectedEvent.end).toLocaleString()\n\t\t\t\t}}\n\t\t\t</h2>\n\t\t</div>\n\t\t<Timeline\n\t\t\t:items=\"timelineEvents\"\n\t\t\t:options=\"options\"\n\t\t\t:events=\"['select']\"\n\t\t\t:selection=\"selectedEventId\"\n\t\t\tref=\"timeline\"\n\t\t\t@select=\"onEventSelect\"\n\t\t/>\n\t\t<div class=\"w-full flex\">\n\t\t\t<button\n\t\t\t\tclass=\"rounded-l bg-gray-500 text-gray-100 hover:bg-gray-600 active:bg-gray-700 px-2 py-2 flex-1\"\n\t\t\t\t@click=\"$emit('previous')\"\n\t\t\t>\n\t\t\t\t<i class=\"el-icon-arrow-left el-icon-left\" />\n\t\t\t\tVorheriges Event\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tclass=\"rounded-r bg-gray-500 text-gray-100 hover:bg-gray-600 active:bg-gray-700 px-2 py-2 flex-1\"\n\t\t\t\t@click=\"$emit('next')\"\n\t\t\t>\n\t\t\t\tNächstes Event\n\t\t\t\t<i class=\"el-icon-arrow-right\" />\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport { Timeline } from 'vue-visjs';\n\nexport default {\n\tprops: {\n\t\tevents: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tselectedEvent: {\n\t\t\ttype: Object,\n\t\t},\n\t},\n\tmounted() {\n\t\t// Selection in Timeline component doesn't get set on initial render.\n\t\t// We do it manually here\n\t\tif (this.selectedEvent)\n\t\t\tthis.$refs.timeline.setSelection(this.selectedEvent.id);\n\t},\n\tcomponents: {\n\t\tTimeline,\n\t},\n\tcomputed: {\n\t\tselectedEventId() {\n\t\t\treturn this.selectedEvent ? this.selectedEvent.id : null;\n\t\t},\n\t\ttimelineEvents() {\n\t\t\treturn  this.$store.getters['setup/eventList'];\n\t\t},\n\t\toptions: () => ({\n\t\t\teditable: false,\n\t\t\t// height: 95,\n\t\t\t// minHeight: 95,\n\t\t\twidth: '100%',\n\t\t\tstack: false,\n\t\t\talign: 'left',\n\t\t\ttype: 'range',\n\t\t}),\n\t},\n\tmethods: {\n\t\tonEventSelect({ items }) {\n\t\t\tthis.$emit('select', items[0]);\n\t\t\tthis.$refs.timeline.focus(items[0]);\n\t\t},\n\n\t\tisSameDay(date1, date2) {\n\t\t\treturn (\n\t\t\t\tnew Date(date1).toISOString().slice(0, 10) ===\n\t\t\t\tnew Date(date2).toISOString().slice(0, 10)\n\t\t\t);\n\t\t},\n\t},\n\twatch: {\n\t\tselectedEvent() {\n\t\t\tif (this.selectedEvent) {\n\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\tthis.$refs.timeline.setSelection(this.selectedEvent.id);\n\t\t\t\t\tthis.$refs.timeline.focus(this.selectedEvent.id);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n<style type=\"text/css\">\n.vis-content {\n\t/*min-height: 95px;*/\n}\n\n.vis-timeline {\n\tborder-radius: 5px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventControl.vue?vue&type=template&id=0bc5d1de&\"\nimport script from \"./EventControl.vue?vue&type=script&lang=js&\"\nexport * from \"./EventControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventControl.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-col w-full bg-gray-100 bg-opacity-80 rounded-lg overflow-hidden\",staticStyle:{\"max-height\":\"70vh\"}},[(_vm.selectedChat)?[_c('button',{class:(\"w-full bg-\" + _vm.selectedColor + \"-300 text-\" + _vm.selectedColor + \"-900 py-1 hover:opacity-90\"),on:{\"click\":function($event){_vm.chatHidden = !_vm.chatHidden}}},[(_vm.chatHidden)?_c('span',[_vm._v(\" Anzeigen \"),_c('i',{staticClass:\"el-icon-arrow-up\"})]):_c('span',[_vm._v(\" Schließen \"),_c('i',{staticClass:\"el-icon-arrow-down\"})])]),_c('div',{class:(\"flex justify-between items-center px-2 py-1 text-xs bg-\" + _vm.selectedColor + \"-200 text-\" + _vm.selectedColor + \"-800\")},[_c('div',{staticClass:\"flex items-center gap-2\"},[_c('img',{staticClass:\"h-4 w-4 rounded-full\",attrs:{\"src\":_vm.receiver.avatarUrl || (\"https://avatars.dicebear.com/api/bottts/\" + (encodeURIComponent(_vm.receiver.name)) + \".svg\")}}),_vm._v(\" \"+_vm._s(_vm.receiver.name)+\" \")]),_c('div',{staticClass:\"flex items-center gap-2\"},[_vm._v(\" \"+_vm._s(_vm.sender.name)+\" \"),_c('img',{staticClass:\"h-4 w-4 rounded-full\",attrs:{\"src\":_vm.sender.avatarUrl || (\"https://avatars.dicebear.com/api/bottts/\" + (encodeURIComponent(_vm.sender.name)) + \".svg\")}})])]),_c('Chat',{staticClass:\"w-full transition-all p-2\",style:(_vm.chatHidden\n\t\t\t\t\t? {\n\t\t\t\t\t\t\t'max-height': '0px',\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t  }\n\t\t\t\t\t: { 'max-height': '70vh' }),attrs:{\"sender\":_vm.sender,\"receiver\":_vm.receiver,\"messages\":_vm.messages,\"color\":_vm.selectedColor}})]:_vm._e(),_c('nav',{staticClass:\"w-full flex justify-around\"},_vm._l((_vm.chatList),function(chat){return _c('TabButton',{key:chat.id,style:((\"max-width: \" + (100/_vm.chatList.length) + \"%\")),attrs:{\"color\":_vm.chatColor(chat.type),\"count\":_vm.filterMessagesForEvent(chat.messages, _vm.selectedEvent).length,\"active\":_vm.selectedChat.id === chat.id},on:{\"click\":function($event){return _vm.selectChat(chat)}}},[_c('div',{staticClass:\"flex flex-col text-left flex-shrink-1 truncate overflow-ellipsis overflow-hidden\"},[_c('div',{staticClass:\"truncate\"},[_vm._v(_vm._s(_vm.toPerson(chat.receiver).name))]),_c('div',{class:(\"text-xs text-\" + _vm.selectedColor + \"-600\")},[_vm._v(\" \"+_vm._s(_vm.chatName(chat.type))+\" \")])])])}),1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function filterMessagesForEvent(messages, event) {\n\treturn messages.filter(\n\t\tmessage => \n\t\t\tmessage.date.toISOString() >= event.start.toISOString() && \n\t\t\t\tmessage.date.toISOString() <= event.end.toISOString()\n\t);\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{class:_vm.classes,attrs:{\"disabled\":_vm.count === 0},on:{\"click\":function($event){return _vm.$emit('click', $event)}}},[_vm._t(\"default\"),_c('span',{class:_vm.countClasses},[_vm._v(_vm._s(_vm.count))])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<button\n\t\t:class=\"classes\"\n\t\t:disabled=\"count === 0\"\n\t\t@click=\"$emit('click', $event)\"\n\t>\n\t\t<slot />\n\t\t<span :class=\"countClasses\">{{ count }}</span>\n\t</button>\n</template>\n<script type=\"text/javascript\">\nexport default {\n\tprops: {\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: 'gray',\n\t\t},\n\t\tcount: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0,\n\t\t},\n\t\tactive: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tclasses() {\n\t\t\treturn `bg-${this.color}-300 text-${\n\t\t\t\tthis.color\n\t\t\t}-900 flex-1 py-2 flex gap-2 items-center justify-between px-3 disabled:opacity-50 disabled:cursor-not-allowed font-medium ${\n\t\t\t\tthis.active ? '' : 'opacity-70 hover:opacity-90'\n\t\t\t}`;\n\t\t},\n\t\tcountClasses() {\n\t\t\treturn `bg-${this.color}-200 text-${this.color}-800 h-5 px-1 min-w-5 rounded-full inline-block flex items-center justify-center font-mono font-bold`;\n\t\t},\n\t},\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabButton.vue?vue&type=template&id=e1b51682&\"\nimport script from \"./TabButton.vue?vue&type=script&lang=js&\"\nexport * from \"./TabButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div\n\t\tclass=\"flex flex-col w-full bg-gray-100 bg-opacity-80 rounded-lg overflow-hidden\"\n\t\tstyle=\"max-height: 70vh\"\n\t>\n\t\t<template v-if=\"selectedChat\">\n\t\t\t<button\n\t\t\t\t:class=\"`w-full bg-${selectedColor}-300 text-${selectedColor}-900 py-1 hover:opacity-90`\"\n\t\t\t\t@click=\"chatHidden = !chatHidden\"\n\t\t\t>\n\t\t\t\t<span v-if=\"chatHidden\">\n\t\t\t\t\tAnzeigen\n\t\t\t\t\t<i class=\"el-icon-arrow-up\" />\n\t\t\t\t</span>\n\t\t\t\t<span v-else>\n\t\t\t\t\tSchließen\n\t\t\t\t\t<i class=\"el-icon-arrow-down\" />\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t\t<div\n\t\t\t\t:class=\"`flex justify-between items-center px-2 py-1 text-xs bg-${selectedColor}-200 text-${selectedColor}-800`\"\n\t\t\t>\n\t\t\t\t<div class=\"flex items-center gap-2\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tclass=\"h-4 w-4 rounded-full\"\n\t\t\t\t\t\t:src=\"receiver.avatarUrl || `https://avatars.dicebear.com/api/bottts/${encodeURIComponent(receiver.name)}.svg`\"\n\t\t\t\t\t/>\n\t\t\t\t\t{{ receiver.name }}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex items-center gap-2\">\n\t\t\t\t\t{{ sender.name }}\n\t\t\t\t\t<img class=\"h-4 w-4 rounded-full\" :src=\"sender.avatarUrl || `https://avatars.dicebear.com/api/bottts/${encodeURIComponent(sender.name)}.svg`\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Chat\n\t\t\t\tclass=\"w-full transition-all p-2\"\n\t\t\t\t:style=\"\n\t\t\t\t\tchatHidden\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t'max-height': '0px',\n\t\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: { 'max-height': '70vh' }\n\t\t\t\t\"\n\t\t\t\t:sender=\"sender\"\n\t\t\t\t:receiver=\"receiver\"\n\t\t\t\t:messages=\"messages\"\n\t\t\t\t:color=\"selectedColor\"\n\t\t\t/>\n\t\t</template>\n\t\t<nav class=\"w-full flex justify-around\">\n\t\t\t<TabButton\n\t\t\t\tv-for=\"chat in chatList\"\n\t\t\t\t:key=\"chat.id\"\n\t\t\t\t:color=\"chatColor(chat.type)\"\n\t\t\t\t:count=\"filterMessagesForEvent(chat.messages, selectedEvent).length\"\n\t\t\t\t:active=\"selectedChat.id === chat.id\"\n\t\t\t\t@click=\"selectChat(chat)\"\n\t\t\t\t:style=\"`max-width: ${100/chatList.length}%`\"\n\t\t\t>\n\t\t\t\t<div class=\"flex flex-col text-left flex-shrink-1 truncate overflow-ellipsis overflow-hidden\">\n\t\t\t\t\t<div class=\"truncate\">{{ toPerson(chat.receiver).name }}</div>\n\t\t\t\t\t<div :class=\"`text-xs text-${selectedColor}-600`\">\n\t\t\t\t\t\t{{ chatName(chat.type) }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- \n\t\t\t\t\ttext-gray-100 text-gray-200 text-gray-300 text-gray-400 text-gray-500 text-gray-600 text-gray-700 text-gray-800 text-gray-900\n\t\t\t\t\ttext-purple-100 text-purple-200 text-purple-300 text-purple-400 text-purple-500 text-purple-600 text-purple-700 text-purple-800 text-purple-900\n\t\t\t\t\ttext-green-100 text-green-200 text-green-300 text-green-400 text-green-500 text-green-600 text-green-700 text-green-800 text-green-900\n\t\t\t\t\ttext-blue-100 text-blue-200 text-blue-300 text-blue-400 text-blue-500 text-blue-600 text-blue-700 text-blue-800 text-blue-900\n\t\t\t\t\ttext-indigo-100 text-indigo-200 text-indigo-300 text-indigo-400 text-indigo-500 text-indigo-600 text-indigo-700 text-indigo-800 text-indigo-900\n\t\t\t\t\ttext-yellow-100 text-yellow-200 text-yellow-300 text-yellow-400 text-yellow-500 text-yellow-600 text-yellow-700 text-yellow-800 text-yellow-900\n\n\t\t\t\t\tbg-gray-100 bg-gray-200 bg-gray-300 bg-gray-400 bg-gray-500 bg-gray-600 bg-gray-700 bg-gray-800 bg-gray-900\n\t\t\t\t\tbg-purple-100 bg-purple-200 bg-purple-300 bg-purple-400 bg-purple-500 bg-purple-600 bg-purple-700 bg-purple-800 bg-purple-900\n\t\t\t\t\tbg-green-100 bg-green-200 bg-green-300 bg-green-400 bg-green-500 bg-green-600 bg-green-700 bg-green-800 bg-green-900\n\t\t\t\t\tbg-blue-100 bg-blue-200 bg-blue-300 bg-blue-400 bg-blue-500 bg-blue-600 bg-blue-700 bg-blue-800 bg-blue-900\n\t\t\t\t\tbg-indigo-100 bg-indigo-200 bg-indigo-300 bg-indigo-400 bg-indigo-500 bg-indigo-600 bg-indigo-700 bg-indigo-800 bg-indigo-900\n\t\t\t\t\tbg-yellow-100 bg-yellow-200 bg-yellow-300 bg-yellow-400 bg-yellow-500 bg-yellow-600 bg-yellow-700 bg-yellow-800 bg-yellow-900\n\t\t\t\t -->\n\t\t\t</TabButton>\n\t\t</nav>\n\t</div>\n</template>\n<script type=\"text/javascript\">\nimport filterMessagesForEvent from '@/util/filter-messages-for-event';\nimport TabButton from './TabButton';\nimport Chat from './Chat';\n\nexport default {\n\tprops: {\n\t\tchats: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tchatHidden: false,\n\t\t\tselectedChat: null,\n\t\t};\n\t},\n\tbeforeMount() {\n\t\tthis.selectedChat = this.chatList[0];\n\t},\n\tcomputed: {\n\t\tchatList() {\n\t\t\treturn this.chats.map(chatId => this.$store.state.setup.chats[chatId]);\n\t\t},\n\t\tselectedEvent() {\n\t\t\treturn this.$store.state.setup.events[this.$store.state.map.selectedEventId];\n\t\t},\n\t\tmessages() {\n\t\t\tif (!this.selectedChat) return null;\n\n\t\t\tconst messages = filterMessagesForEvent(\n\t\t\t\tthis.selectedChat.messages, \n\t\t\t\tthis.selectedEvent\n\t\t\t);\n\n\t\t\treturn messages;\n\t\t},\n\t\tsender() {\n\t\t\treturn this.$store.state.setup.people[\n\t\t\t\tthis.selectedChat.sender\n\t\t\t];\n\t\t},\n\t\treceiver() {\n\t\t\treturn this.$store.state.setup.people[\n\t\t\t\tthis.selectedChat.receiver\n\t\t\t];\n\t\t},\n\t\tselectedColor() {\n\t\t\treturn this.chatColor(\n\t\t\t\tthis.selectedChat ? this.selectedChat.type : ''\n\t\t\t);\n\t\t},\n\t},\n\tcomponents: {\n\t\tChat,\n\t\tTabButton,\n\t},\n\tmethods: {\n\t\tfilterMessagesForEvent,\n\t\ttoPerson(id) {\n\t\t\treturn this.$store.state.setup.people[id] || this.$store.state.setup.people[id];\n\t\t},\n\t\tselectChat(chat) {\n\t\t\tthis.selectedChat = chat;\n\t\t},\n\t\tchatColor(chatType) {\n\t\t\tswitch (chatType) {\n\t\t\t\tcase 'whatsapp':\n\t\t\t\t\treturn 'green';\n\t\t\t\tcase 'sms':\n\t\t\t\t\treturn 'purple';\n\t\t\t\tcase 'phonelog':\n\t\t\t\t\treturn 'pink';\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'gray';\n\t\t\t}\n\t\t},\n\t\tchatName(chatType) {\n\t\t\tswitch (chatType) {\n\t\t\t\tcase 'whatsapp':\n\t\t\t\t\treturn 'WhatsApp';\n\t\t\t\tcase 'sms':\n\t\t\t\t\treturn 'SMS';\n\t\t\t\tcase 'phonelog':\n\t\t\t\t\treturn 'Phone Calls';\n\t\t\t}\n\t\t},\n\t},\n\twatch: {\n\t\tchats() {\n\t\t\t// If chats are updated we try to find the old selected chat id, or select the first one\n\t\t\tif (!this.selectedChat) return;\n\n\t\t\tthis.selectedChat =\n\t\t\t\tthis.chatList.find((chat) => chat.id === this.selectedChat.id) ||\n\t\t\t\tthis.chatList[0];\n\t\t},\n\t},\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatWindow.vue?vue&type=template&id=5a926022&\"\nimport script from \"./ChatWindow.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatWindow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"map fixed w-full h-screen flex flex-col\">\n\t\t<Header small locked>\n\t\t\t<template v-slot:actions>\n\t\t\t\t<form class=\"flex gap-2 px-2 items-center\" @submit.prevent=\"loadFile\">\n\t\t\t\t\t<input type=\"file\" ref=\"vizFile\" @change=\"onVizFileChanged\">\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"py-1 px-4 rounded-md text-gray-700 bg-gray-200 hover:text-blue-900 disabled:opacity-50 disabled:cursor-default\"\n\t\t\t\t\t\t:class=\"{ 'hover:bg-blue-200': visFileSelected }\"\n\t\t\t\t\t\ttype=\"submit\" \n\t\t\t\t\t\t:disabled=\"!visFileSelected\"\n\t\t\t\t\t>\n\t\t\t\t\t\tLaden\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<a href=\"#\" class=\"block py-1 px-4 rounded-md text-gray-700 bg-gray-200 hover:bg-blue-200 hover:text-blue-900\" @click.prevent=\"edit\">\n\t\t\t\t\t\tBearbeiten ➝\n\t\t\t\t\t</a>\n\t\t\t\t</form>\n\t\t\t</template>\n\t\t</Header>\n\n\t\t<Map :locations=\"currentLocations\">\n\t\t\t<template v-slot:control>\n\t\t\t\t<EventControl\n\t\t\t\t\t:events=\"events\"\n\t\t\t\t\t:selectedEvent=\"selectedEvent\"\n\t\t\t\t\t@select=\"selectEvent\"\n\t\t\t\t\t@next=\"next\"\n\t\t\t\t\t@previous=\"previous\"\n\t\t\t\t/>\n\t\t\t</template>\n\t\t\t<template v-slot:chat>\n\t\t\t\t<ChatWindow\n\t\t\t\t\tv-if=\"currentChats\"\n\t\t\t\t\tclass=\"shadow-lg\"\n\t\t\t\t\t:chats=\"currentChats\"\n\t\t\t\t/>\n\t\t\t</template>\n\n\t\t\t<template v-slot:load>\n\t\t\t\t\n\t\t\t</template>\n\t\t</Map>\n\t</div>\n</template>\n<script>\nimport Header from '@/components/layout/Header';\nimport Map from '@/components/map/Map';\nimport EventControl from '@/components/events/EventControl';\nimport ChatWindow from '@/components/chat/ChatWindow';\n\nexport default {\n\tcomponents: {\n\t\tHeader,\n\t\tMap,\n\t\tEventControl,\n\t\tChatWindow,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tvisFileSelected: false\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.selectEvent(this.events.length > 0 ? this.events[0].id : null);\n\t},\n\tcomputed: {\n\t\tselectedEventId() {\n\t\t\treturn this.$store.state.map.selectedEventId;\n\t\t},\n\t\teventsObj() {\n\t\t\treturn this.$store.state.setup.events;\n\t\t},\n\t\tevents() {\n\t\t\treturn this.$store.getters['setup/eventList'];\n\t\t},\n\t\tselectedEvent() {\n\t\t\tif (!this.selectedEventId) return null;\n\n\t\t\treturn this.eventsObj[this.selectedEventId];\n\t\t},\n\t\tcurrentChats() {\n\t\t\tif (!this.selectedEvent) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn this.selectedEvent.chats;\n\t\t},\n\t\tcurrentLocations() {\n\t\t\tif (!this.selectedEvent) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\treturn this.selectedEvent.locations;\n\t\t},\n\t},\n\tmethods: {\n\t\tonVizFileChanged() {\n\t\t\tthis.visFileSelected = this.$refs.vizFile.files.length > 0;\n\t\t},\n\t\tloadFile() {\n\t\t\tthis.$store.dispatch('setup/loadFile', this.$refs.vizFile.files[0]);\n\t\t},\n\t\tedit() {\n\t\t\tthis.$router.push('/editor');\n\t\t},\n\t\tselectEvent(eventId) {\n\t\t\tthis.$store.commit('map/selectEvent', eventId);\n\t\t},\n\t\tnext() {\n\t\t\tlet index = this.events.findIndex(\n\t\t\t\t(e) => e.id === this.selectedEventId\n\t\t\t);\n\n\t\t\tif (index === -1 || ++index >= this.events.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.selectEvent(this.events[index].id);\n\t\t},\n\t\tprevious() {\n\t\t\tlet index = this.events.findIndex(\n\t\t\t\t(e) => e.id === this.selectedEventId\n\t\t\t);\n\n\t\t\tif (index === -1 || --index < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.selectEvent(this.events[index].id);\n\t\t},\n\t},\n\twatch: {\n\t\teventsObj() {\n\t\t\tthis.selectEvent(this.events.length > 0 ? this.events[0].id : null);\n\t\t}\n\t}\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=c85122c0&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Map from '../views/Map.vue';\n\nVue.use(VueRouter);\n\nconst routes = [\n\t{\n\t\tpath: '/',\n\t\tname: 'Map',\n\t\tcomponent: Map,\n\t},\n\t{\n\t\tpath: '/editor',\n\t\tname: 'Editor',\n\t\t// route level code-splitting\n\t\t// this generates a separate chunk (about.[hash].js) for this route\n\t\t// which is lazy-loaded when the route is visited.\n\t\tcomponent: () =>\n\t\t\timport(/* webpackChunkName: \"map\" */ '../views/Editor.vue')\n\t},\n];\n\nconst router = new VueRouter({\n\troutes,\n});\n\nexport default router;\n","// import { getExampleData } from '@/util/example-data';\n/**\n * @typedef {Person}\n */\n\n// const { people, events } = getExampleData();\n\nexport default {\n\tnamespaced: true,\n\tstate: () => ({\n\t\tselectedEventId: null\n\t}),\n\tmutations: {\n\t\tselectEvent(state, id) {\n\t\t\tstate.selectedEventId = id;\n\t\t}\n\t},\n\tactions: {\n\t}\n};\n","// eslint-disable-file no-undef\n// import zip from '@zip.js/zip.js';\nimport { readFile } from '@/fs';\n\nlet zip = window.zip;\nconsole.log(zip);\n\n// zip.configure({\n// \t// useWebWorkers: false,\n// });\n// \n\n// async function addFileRecursive(zipWriter, file, blob) {\n\n// }\n\nexport async function exportAsZip(projectName, people, chats, locations, events, files) {\n\tconsole.log(people, chats, locations, events, files);\n\n\tconst inputBlob = new Blob(\n\t\t[JSON.stringify({ projectName, people, chats, locations, events }, null, 2)],\n\t\t{ type: 'application/json' }\n\t);\n\tconst blobWriter = new zip.BlobWriter('application/zip');\n\tconst zipWriter = new zip.ZipWriter(blobWriter);\n\tawait zipWriter.add('Viz.json', new zip.BlobReader(inputBlob));\n\n\tfor (const chat of Object.values(chats)) {\n\t\tconsole.log(chat);\n\n\t\tfor (const message of chat.messages) {\n\t\t\tconsole.log(message);\n\t\t\t\n\t\t\tif (message.mediaSrc) {\n\t\t\t\ttry {\n\t\t\t\t\tconst file = await readFile(message.mediaSrc.replace('Media/', '/assets/Media/'), null);\n\t\t\t\t\tconst blob = new Blob([file.buffer], { type: 'image/jpeg' });\n\t\t\t\t\tawait zipWriter.add(message.mediaSrc, new zip.BlobReader(blob));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error('could not add file', e);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tawait zipWriter.close();\n\n\treturn blobWriter.getData();\n}\n","// import { v4 as uuid } from 'uuid';\nimport Vue from 'vue';\n\nimport { loadVizFile } from '@/data-import';\nimport { exportAsZip } from '@/data-export';\n\n/**\n * @typedef {Person}\n */\n\n// const personA = {\n// \tid: '601cff75-9252-4086-998b-8938209ed879',\n// \tname: 'Markus Gasleiter',\n// \tavatarUrl: null,\n// \tcolor: 'green',\n// };\n// const personB = {\n// \tid: '1ed7504b-35bd-41b7-b8d7-38149b8a027c',\n// \tname: 'Frank Susmann',\n// \tavatarUrl:\n// \t\tnull,\n// \tcolor: 'purple',\n// };\n// const people = {\n// \t[personA.id]: personA,\n// \t[personB.id]: personB,\n// };\n\n// const locations = {\n// \t'l-1': {\n// \t\tid: 'l-1',\n// \t\tposition: { lat: 53.228093, lng: 10.373144 },\n// \t\tdate: new Date('2021-10-01 15:50:00'),\n// \t\tperson: personA.id,\n// \t\tdescription: `Haus von ${personA.name}`,\n// \t},\n// \t'l-2': {\n// \t\tid: 'l-2',\n// \t\tposition: { lat: 53.232634, lng: 10.393671 },\n// \t\tdate: new Date('2021-10-01 16:22:00'),\n// \t\tperson: personB.id,\n// \t\tdescription: `Arbeit von ${personB.name}`,\n// \t},\n// \t'l-3': {\n// \t\tid: 'l-3',\n// \t\tposition: { lat: 53.228909, lng: 10.401397 },\n// \t\tdate: new Date('2021-10-01 18:30:00'),\n// \t\tperson: personA.id,\n// \t\tdescription: `Kiosk von ${personA.name}`,\n// \t},\n\n// \t'l-4': {\n// \t\tid: 'l-4',\n// \t\tposition: { lat: 53.249013, lng: 10.361813 },\n// \t\tdate: new Date('2021-10-04 15:45:00'),\n// \t\tperson: personB.id,\n// \t\tdescription: `${personB.name} bei Großmutter`,\n// \t},\n// \t'l-5': {\n// \t\tid: 'l-5',\n// \t\tposition: { lat: 53.228093, lng: 10.373144 },\n// \t\tdescription: `Haus von ${personA.name}`,\n// \t},\n// \t'l-6': {\n// \t\tid: 'l-6',\n// \t\tposition: { lat: 53.228909, lng: 10.401397 },\n// \t\tdate: new Date('2021-10-05 01:30:00'),\n// \t\tperson: personA.id,\n// \t\tdescription: `${personA.name} im Kiosk`,\n// \t},\n// };\n\n// // const chats = {\n// // \t'whatsapp-a': {\n// // \t\tid: 'whatsapp-a',\n// // \t\ttype: 'whatsapp',\n// // \t\treceiver: personB.id,\n// // \t\tsender: personA.id,\n// // \t\tmessages: [\n// // \t\t\t{\n// // \t\t\t\tid: uuid(),\n// // \t\t\t\tdate: new Date('2021-10-01 16:10:00'),\n// // \t\t\t\tsender: personA.id,\n// // \t\t\t\ttype: 'text',\n// // \t\t\t\ttext: 'Ey yo kannst du heute noch die Schicht übernehmen?',\n// // \t\t\t},\n// // \t\t\t{\n// // \t\t\t\tid: uuid(),\n// // \t\t\t\tdate: new Date('2021-10-01 16:23:00'),\n// // \t\t\t\tsender: personB.id,\n// // \t\t\t\ttype: 'text',\n// // \t\t\t\ttext: 'Sorry bin grade auf Arbeit angekommen, wird heute nix 😅',\n// // \t\t\t},\n// // \t\t\t{\n// // \t\t\t\tid: uuid(),\n// // \t\t\t\tdate: new Date('2021-10-01 16:40:02'),\n// // \t\t\t\tsender: personA.id,\n// // \t\t\t\ttype: 'image',\n// // \t\t\t\tmediaSrc:\n// // \t\t\t\t\t'https://image.spreadshirtmedia.net/image-server/v1/mp/products/T1459A839PA4459PT28D129372714FS7416/views/1,width=378,height=378,appearanceId=839,backgroundColor=F2F2F2/mittelfinger-fuck-you-sticker.jpg',\n// // \t\t\t},\n// // \t\t\t{\n// // \t\t\t\tid: uuid(),\n// // \t\t\t\tdate: new Date('2021-10-01 16:40:03'),\n// // \t\t\t\tsender: personA.id,\n// // \t\t\t\ttype: 'text',\n// // \t\t\t\ttext: 'Ach halt doch die Schnauze',\n// // \t\t\t},\n\n// // \t\t\t{\n// // \t\t\t\tid: uuid(),\n// // \t\t\t\tdate: new Date('2021-10-05 10:12:00'),\n// // \t\t\t\tsender: personA.id,\n// // \t\t\t\ttype: 'image',\n// // \t\t\t\tmediaSrc:\n// // \t\t\t\t\t'https://c0.thejournal.ie/media/2013/11/products-390x285.jpg',\n// // \t\t\t},\n// // \t\t\t{\n// // \t\t\t\tid: uuid(),\n// // \t\t\t\tdate: new Date('2021-10-05 10:12:30'),\n// // \t\t\t\tsender: personA.id,\n// // \t\t\t\ttype: 'text',\n// // \t\t\t\ttext: 'DU WICHSER ICH SCHIEB DIR DIE BULLEN AN DEN HALS',\n// // \t\t\t},\n// // \t\t\t{\n// // \t\t\t\tid: uuid(),\n// // \t\t\t\tdate: new Date('2021-10-05 10:31:30'),\n// // \t\t\t\tsender: personB.id,\n// // \t\t\t\ttype: 'text',\n// // \t\t\t\ttext: 'Was laberst du?? Ich war das nich',\n// // \t\t\t},\n// // \t\t\t{\n// // \t\t\t\tid: uuid(),\n// // \t\t\t\tdate: new Date('2021-10-05 10:45:30'),\n// // \t\t\t\tsender: personA.id,\n// // \t\t\t\ttype: 'text',\n// // \t\t\t\ttext: 'Erzähl das doch den Bullen hahaha du bist so gefickt',\n// // \t\t\t},\n// // \t\t],\n// // \t},\n// // \t'sms-a': {\n// // \t\tid: 'sms-a',\n// // \t\ttype: 'sms',\n// // \t\treceiver: personB.id,\n// // \t\tsender: personA.id,\n// // \t\tmessages: [\n// // \t\t\t{\n// // \t\t\t\tid: uuid(),\n// // \t\t\t\tdate: new Date('2021-10-05 10:12:00'),\n// // \t\t\t\tsender: personA.id,\n// // \t\t\t\ttype: 'image',\n// // \t\t\t\tmediaSrc:\n// // \t\t\t\t\t'https://c0.thejournal.ie/media/2013/11/products-390x285.jpg',\n// // \t\t\t},\n// // \t\t\t{\n// // \t\t\t\tid: uuid(),\n// // \t\t\t\tdate: new Date('2021-10-05 10:12:30'),\n// // \t\t\t\tsender: personA.id,\n// // \t\t\t\ttype: 'text',\n// // \t\t\t\ttext: 'DU WICHSER ICH SCHIEB DIR DIE BULLEN AN DEN HALS',\n// // \t\t\t},\n// // \t\t\t{\n// // \t\t\t\tid: uuid(),\n// // \t\t\t\tdate: new Date('2021-10-05 10:31:30'),\n// // \t\t\t\tsender: personB.id,\n// // \t\t\t\ttype: 'text',\n// // \t\t\t\ttext: 'Was laberst du?? Ich war das nich',\n// // \t\t\t},\n// // \t\t\t{\n// // \t\t\t\tid: uuid(),\n// // \t\t\t\tdate: new Date('2021-10-05 10:45:30'),\n// // \t\t\t\tsender: personA.id,\n// // \t\t\t\ttype: 'text',\n// // \t\t\t\ttext: 'Erzähl das doch den Bullen hahaha du bist so gefickt',\n// // \t\t\t},\n// // \t\t],\n// // \t},\n// // };\n\n// // const { people, events } = getExampleData();\n\n// const event = {\n// \tid: uuid(),\n// \ttitle: 'Frank und Markus klären Arbeitszeiten',\n// \tstart: new Date(),\n// \tend: new Date(Date.now() + 1000 * 60 * 60),\n// \tchats: [],\n// \tlocations: [],\n// };\n\nexport default {\n\tnamespaced: true,\n\tstate: () => ({\n\t\tprojectName: 'Forensik Viz',\n\t\tpeople: {},\n\t\tchats: {},\n\t\tlocations: {},\n\t\tevents: {\n\t\t\t// [event.id]: event\n\t\t},\n\t\tfiles: {}\n\t}),\n\tgetters: {\n\t\teventList(state) {\n\t\t\treturn Object.values(state.events).sort((a, b) => {\n\t\t\t\tconst aStart = a.start;\n\t\t\t\tconst bStart = b.start;\n\n\t\t\t\tif (aStart < bStart) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else if (aStart > bStart) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}).map((event) => ({\n\t\t\t\t...event,\n\t\t\t\tcontent: event.title,\n\t\t\t}));\n\t\t}\n\t},\n\tmutations: {\n\t\tsetViz(state, viz) {\n\t\t\tstate.projectName = viz.projectName || 'Forensik Viz';\n\t\t\tstate.people = viz.people || {};\n\t\t\tstate.chats = viz.chats || {};\n\t\t\tstate.locations = viz.locations || {};\n\t\t\tstate.events = viz.events || {};\n\t\t\tstate.files = viz.files || {};\n\t\t},\n\n\t\tsetProjectName(state, name) {\n\t\t\tstate.projectName = name;\n\t\t},\n\n\t\t/*\n\t\t * Events\n\t\t */\n\t\tupdateEvent(state, event) {\n\t\t\tVue.set(state.events, event.id, event);\n\t\t},\n\n\t\tdeleteEvent(state, eventId) {\n\t\t\tVue.delete(state.events, eventId);\n\t\t},\n\n\t\t/*\n\t\t * Chats\n\t\t */\n\t\taddChats(state, chats) {\n\t\t\tstate.chats = {\n\t\t\t\t...state.chats,\n\t\t\t\t...chats\n\t\t\t};\n\t\t},\n\n\t\t/*\n\t\t * Files\n\t\t */\n\t\taddFiles(state, files = {}) {\n\t\t\tstate.files = {\n\t\t\t\t...state.files,\n\t\t\t\t...files\n\t\t\t};\n\t\t},\n\n\t\t/*\n\t\t * Locations\n\t\t */\n\t\tupdateLocation(state, location) {\n\t\t\tVue.set(state.locations, location.id, location);\n\t\t},\n\n\t\tdeleteLocation(state, location) {\n\t\t\tVue.delete(state.locations, location.id);\n\t\t},\n\n\t\tsetLocationPerson(state, { location, person }) {\n\t\t\tstate.locations[location.id].person = person;\n\t\t},\n\n\t\t/*\n\t\t * People\n\t\t */\n\t\tupdatePerson(state, person) {\n\t\t\tVue.set(\n\t\t\t\tstate.people, \n\t\t\t\tperson.id, \n\t\t\t\t(person.id in state.people)\n\t\t\t\t\t? { ...state.people[person.id], ...person }\n\t\t\t\t\t: person\n\t\t\t);\n\t\t},\n\n\t\tdeletePerson(state, id) {\n\t\t\tVue.delete(state.people, id);\n\t\t},\n\t},\n\tactions: {\n\t\tasync exportAsFile(context) {\n\t\t\tconst blob = await exportAsZip(context.state.projectName, context.state.people, context.state.chats, context.state.locations, context.state.events, context.state.files);\n\t\t\tconst data = window.URL.createObjectURL(blob);\n\n\n\t\t\tconst link = document.createElement('a');\n\t\t\tlink.href = data;\n\t\t\tlink.download = `${new Date().toISOString().split('.')[0]}.viz`;\n\n\t\t\t// this is necessary as link.click() does not work on the latest firefox\n\t\t\tlink.dispatchEvent(\n\t\t\t\tnew MouseEvent('click', {\n\t\t\t\t\tbubbles: true,\n\t\t\t\t\tcancelable: true,\n\t\t\t\t\tview: window,\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tsetTimeout(() => {\n\t\t\t\t// For Firefox it is necessary to delay revoking the ObjectURL\n\t\t\t\twindow.URL.revokeObjectURL(data);\n\t\t\t\tlink.remove();\n\t\t\t}, 100);\n\t\t},\n\n\t\tasync loadFile(context, file) {\n\t\t\tcontext.commit('setViz', await loadVizFile(file));\n\t\t}\n\t},\n};\n","import Vue from 'vue';\nimport Vuex from 'vuex';\n\nimport map from './map';\nimport setup from './setup';\n\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n\tstate: {\n\t\tpeople: {\n\t\t\t1: {\n\t\t\t\tname: 'Markus Gasleiter',\n\t\t\t\tavatarUrl: 'https://i.pravatar.cc/300',\n\t\t\t},\n\t\t\t2: {\n\t\t\t\tname: 'Frank Susmann',\n\t\t\t\tavatarUrl: 'https://i.pravatar.cc/200',\n\t\t\t},\n\t\t},\n\t},\n\tmutations: {},\n\tactions: {},\n\tmodules: {\n\t\tmap,\n\t\tsetup\n\t},\n});\n","import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport './assets/tailwind.css';\n\nimport 'viewerjs/dist/viewer.css';\nimport VueViewer from 'v-viewer';\nimport VueMeta from 'vue-meta'\n\nimport { initFS } from './fs';\n\nasync function main() {\n\tawait initFS();\n\n\tVue.use(VueViewer);\n\tVue.use(VueMeta);\n\n\tVue.config.productionTip = false;\n\n\tnew Vue({\n\t\trouter,\n\t\tstore,\n\t\trender: (h) => h(App),\n\t}).$mount('#app');\n}\n\nmain().catch((e) => console.error('GLOBAL CATCH:', e));\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventControl.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{class:{ 'bg-blue-600 text-blue-100 font-bold flex items-center justify-between': true, 'h-12 px-3': !_vm.small, 'h-8 text-xs': _vm.small }},[_c('h1',{staticClass:\"flex-1\"},[_c('input',{staticClass:\"font-bold text-blue-100 bg-transparent border-none focus:bg-blue-100 focus:text-blue-900 rounded pl-2\",class:{ 'text-sm': _vm.small, 'text-xl': !_vm.small },attrs:{\"type\":\"text\",\"name\":\"\",\"disabled\":_vm.locked},domProps:{\"value\":_vm.projectName},on:{\"input\":_vm.changedProjectName}})]),_c('nav',{staticClass:\"mx-auto flex justify-center items-center my-5 px-10\"},[_vm._t(\"nav\")],2),_c('div',{staticClass:\"flex-1 flex justify-end items-center gap-5\"},[_vm._t(\"actions\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<header\n\t\t:class=\"{ 'bg-blue-600 text-blue-100 font-bold flex items-center justify-between': true, 'h-12 px-3': !small, 'h-8 text-xs': small }\"\n\t>\n\t\t<h1 class=\"flex-1\">\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tname=\"\"\n\t\t\t\t:value=\"projectName\"\n\t\t\t\t@input=\"changedProjectName\"\n\t\t\t\tclass=\"font-bold text-blue-100 bg-transparent border-none focus:bg-blue-100 focus:text-blue-900 rounded pl-2\"\n\t\t\t\t:class=\"{ 'text-sm': small, 'text-xl': !small }\"\n\t\t\t\t:disabled=\"locked\"\n\t\t\t/>\n\t\t</h1>\n\n\t\t<nav class=\"mx-auto flex justify-center items-center my-5 px-10\">\n\t\t\t<slot name=\"nav\" />\n\t\t</nav>\n\n\t\t<div class=\"flex-1 flex justify-end items-center gap-5\">\n\t\t\t<slot name=\"actions\" />\n\t\t</div>\n\t</header>\n</template>\n\n<script type=\"text/javascript\">\nexport default {\n\tprops: {\n\t\tsmall: {\n\t\t\ttype: Boolean,\n\t\t},\n\t\tlocked: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: () => false\n\t\t}\n\t},\n\tcomputed: {\n\t\tprojectName() {\n\t\t\treturn this.$store.state.setup.projectName;\n\t\t}\n\t},\n\tmethods: {\n\t\tchangedProjectName(e) {\n\t\t\tthis.$store.commit('setup/setProjectName', e.target.value);\n\t\t}\n\t}\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=452a3a0e&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-undef */\n// import BrowserFS from 'browserfs';\n// import fs from 'fs';\n\nimport { FileFlag } from 'browserfs/dist/node/core/file_flag';\n\nexport let fs = new BrowserFS.FileSystem.MountableFileSystem();\n\nexport const Buffer = BrowserFS.BFSRequire('buffer').Buffer;\n\nexport async function initFS() {\n\t// BrowserFS.install(window);\n\tBrowserFS.initialize(fs);\n\n\tconsole.log(FileFlag);\n\n\t// const memory = new BrowserFS.FileSystem.InMemory();\n\n\t// fs.mount('/import', memory);\n\n\tfs.mount(\n\t\t'/assets',\n\t\tnew BrowserFS.FileSystem.InMemory()\n\t);\n\tawait mkdir('/assets/Media');\n\tawait writeFile('/assets/Media/test.txt', 'Hello World!');\n\n\twindow.fs = fs;\n\twindow.BrowserFS = BrowserFS;\n}\n\nexport async function mountZipFile(zipFile, basePath = '/import') {\n\treturn new Promise((resolve, reject) => {\n\t\tif (fs.existsSync(basePath)) {\n\t\t\tfs.umount(basePath);\n\t\t}\n\n\t\tconst reader = new FileReader();\n\t\treader.onload = function (e) {\n\t\t\tconst arrayBuffer = e.target.result;\n\n\t\t\tfs.mount(\n\t\t\t\tbasePath,\n\t\t\t\tnew BrowserFS.FileSystem.ZipFS(Buffer.from(arrayBuffer))\n\t\t\t);\n\n\t\t\tresolve();\n\t\t};\n\t\treader.onerror = reject;\n\t\treader.readAsArrayBuffer(zipFile);\n\t});\n}\n\nexport async function readDir(dir) {\n\treturn new Promise((resolve, reject) => {\n\t\tfs.readdir(dir, (e) => {\n\t\t\tif (e) {\n\t\t\t\treject(e);\n\t\t\t} else {\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t});\n}\n\nexport async function readFile(file, encoding = 'utf8', flag = new FileFlag('r')) {\n\treturn new Promise((resolve, reject) => {\n\t\tfs.readFile(file, encoding, flag, (e, contents) => {\n\t\t\tif (e) {\n\t\t\t\treject(e);\n\t\t\t} else {\n\t\t\t\tresolve(contents);\n\t\t\t}\n\t\t});\n\t});\n}\n\nexport async function writeFile(fname, content) {\n\treturn new Promise((resolve, reject) => {\n\t\tfs.writeFile(fname, content, 'utf8', new FileFlag('w+'), 0, (e) => {\n\t\t\tif (e) {\n\t\t\t\treject(e);\n\t\t\t} else {\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t});\n}\n\nexport async function ensureDirectory(fname) {\n\tlet paths = fname.split('/');\n\tpaths = paths.slice(1, paths.length - 1);\n\n\tconsole.log('Paths', paths);\n\n\tlet dir = '';\n\tfor (const path of paths) {\n\t\tdir += '/' + path;\n\n\t\tconsole.log('Ensure Path', dir, paths);\n\n\t\tif (!fs.existsSync(dir))\n\t\t\tfs.mkdirSync(dir);\n\t}\n}\n\nexport async function mkdir(fname) {\n\treturn new Promise((resolve, reject) => {\n\t\tfs.mkdir(fname, 0, (e) => {\n\t\t\tif (e) {\n\t\t\t\treject(e);\n\t\t\t} else {\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t});\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-col gap-3 overflow-y-scroll pb-5\"},[_c('div',{staticClass:\"text-center text-xs font-medium text-gray-900 opacity-40\"},[_vm._v(\" \"+_vm._s(_vm.safeFirstDate.toLocaleString())+\" \")]),_vm._l((_vm.rebasedMessages),function(message){return _c('Bubble',{key:message.id,attrs:{\"message\":message,\"right\":message.isSender,\"sender\":message.isSender ? _vm.sender : _vm.receiver,\"color\":(_vm.color + \"-200\")}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(\"w-full flex \" + (_vm.right ? 'justify-end pl-12' : 'justify-start pr-12'))},[_c('div',{class:(\"max-w-sm flex gap-2  \" + (this.right ? 'flex-row-reverse' : ''))},[_c('img',{staticClass:\"h-6 w-6 rounded-full\",attrs:{\"src\":_vm.sender.avatarUrl || (\"https://avatars.dicebear.com/api/bottts/\" + (encodeURIComponent(_vm.sender.name)) + \".svg\")}}),_c('div',{class:_vm.classes},[(_vm.message.mediaSrc)?_c('button',{staticClass:\"block mb-2 w-full\"},[_c('FSImg',{attrs:{\"src\":_vm.message.mediaSrc,\"mime\":_vm.message.mimeType},on:{\"click\":_vm.onImageClick}})],1):_vm._e(),(_vm.message.text)?_c('p',{class:\"block text-gray-900 mb-2\"},[_vm._v(\" \"+_vm._s(_vm.message.text)+\" \")]):_vm._e(),_c('span',{class:(\"block text-xs text-gray-900 opacity-60 \" + (_vm.right ? 'text-right' : ''))},[_vm._v(\" \"+_vm._s(_vm.message.date.toLocaleString())+\" \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isImage)?_c('img',{staticClass:\"w-full\",attrs:{\"src\":_vm.url},on:{\"click\":function($event){return _vm.$emit('click', $event)}}}):_c('video',{staticClass:\"w-full\",attrs:{\"controls\":\"\",\"loop\":\"\"}},[_c('source',{attrs:{\"src\":_vm.url,\"type\":_vm.mime}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<img @click=\"$emit('click', $event)\" :src=\"url\" v-if=\"isImage\" class=\"w-full\" />\n\t\t<video v-else controls loop class=\"w-full\">\n\t\t\t<source :src=\"url\" :type=\"mime\">\n\t\t</video>\n\t</div>\n</template>\n<script type=\"text/javascript\">\n// import { readFile } from '@/fs';\n\n// const toBase64 = (file) =>\n// \tnew Promise((resolve, reject) => {\n// \t\tconst reader = new FileReader();\n// \t\treader.readAsDataURL(file);\n// \t\treader.onload = () => resolve(reader.result);\n// \t\treader.onerror = (error) => reject(error);\n// \t});\n\nexport default {\n\tprops: {\n\t\tsrc: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tmime: {\n\t\t\ttype: String,\n\t\t\tdefault: 'image/jpeg'\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdataUri: ''\n\t\t};\n\t},\n\tcreated() {\n\t\t// requestAnimationFrame(async () => {\n\t\t// \tconst file = await readFile(this.src, null);\n\t\t// \tconst blob = new Blob([file.buffer], { type: this.mime || 'image/jpeg' });\n\t\t// \tconsole.log(blob, this.mime)\n\t\t// \tthis.url = (this.mime || 'image/jpeg').indexOf('video') === -1 ? await toBase64(blob) : URL.createObjectURL(blob);\n\t\t// });\n\t},\n\tcomputed: {\n\t\turl() {\n\t\t\treturn this.$store.state.setup.files[this.src];\n\t\t},\n\t\tisImage() {\n\t\t\treturn (this.mime || 'image/jpeg').indexOf('video') === -1;\n\t\t}\n\t}\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FSImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FSImg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FSImg.vue?vue&type=template&id=6ea6ca52&\"\nimport script from \"./FSImg.vue?vue&type=script&lang=js&\"\nexport * from \"./FSImg.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div\n\t\t:class=\"`w-full flex ${\n\t\t\tright ? 'justify-end pl-12' : 'justify-start pr-12'\n\t\t}`\"\n\t>\n\t\t<div\n\t\t\t:class=\"`max-w-sm flex gap-2  ${\n\t\t\t\tthis.right ? 'flex-row-reverse' : ''\n\t\t\t}`\"\n\t\t>\n\t\t\t<img class=\"h-6 w-6 rounded-full\" :src=\"sender.avatarUrl || `https://avatars.dicebear.com/api/bottts/${encodeURIComponent(sender.name)}.svg`\" />\n\t\t\t<div :class=\"classes\">\n\t\t\t\t<button v-if=\"message.mediaSrc\" class=\"block mb-2 w-full\">\n\t\t\t\t\t<FSImg :src=\"message.mediaSrc\" :mime=\"message.mimeType\" @click=\"onImageClick\"/>\n\t\t\t\t</button>\n\t\t\t\t<p\n\t\t\t\t\tv-if=\"message.text\"\n\t\t\t\t\t:class=\"`block text-gray-900 mb-2`\"\n\t\t\t\t>\n\t\t\t\t\t{{ message.text }}\n\t\t\t\t</p>\n\t\t\t\t<span\n\t\t\t\t\t:class=\"`block text-xs text-gray-900 opacity-60 ${\n\t\t\t\t\t\tright ? 'text-right' : ''\n\t\t\t\t\t}`\"\n\t\t\t\t>\n\t\t\t\t\t{{ message.date.toLocaleString() }}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script type=\"text/javascript\">\nimport FSImg from '@/components/chat/FSImg';\n// const content = {\n// \ttype: 'text' || 'image',\n// \ttext: '',\n// \turl: '',\n// };\nexport default {\n\tprops: {\n\t\tmessage: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tsender: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({\n\t\t\t\tid: '1ed7504b-35bd-41b7-b8d7-38149b8a027c',\n\t\t\t\tname: 'Unbekannt',\n\t\t\t\tavatarUrl:\n\t\t\t\t\t'https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/avatars/00/00bb8a893a2e125c3fce471364154f950a8db60d.jpg',\n\t\t\t\tcolor: 'purple',\n\t\t\t}),\n\t\t},\n\t\tright: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: 'gray-300',\n\t\t},\n\t},\n\tcomputed: {\n\t\tclasses() {\n\t\t\treturn {\n\t\t\t\t'block px-3 py-2 rounded-lg text-left shadow': true,\n\t\t\t\t[`rounded-tr-none bg-${this.color}`]: !!this.right,\n\t\t\t\t'rounded-tl-none bg-gray-300': !this.right,\n\t\t\t};\n\t\t},\n\t},\n\tmethods: {\n\t\tonImageClick(e) {\n\t\t\tthis.$viewerApi({\n\t\t\t\timages: [e.target.src],\n\t\t\t\toptions: {\n\t\t\t\t\ttoolbar: false,\n\t\t\t\t\tnavbar: false,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t},\n\tcomponents: {\n\t\tFSImg\n\t},\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bubble.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bubble.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Bubble.vue?vue&type=template&id=13afff2d&\"\nimport script from \"./Bubble.vue?vue&type=script&lang=js&\"\nexport * from \"./Bubble.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"flex flex-col gap-3 overflow-y-scroll pb-5\">\n\t\t<div class=\"text-center text-xs font-medium text-gray-900 opacity-40\">\n\t\t\t{{ safeFirstDate.toLocaleString() }}\n\t\t</div>\n\t\t<Bubble\n\t\t\tv-for=\"message in rebasedMessages\"\n\t\t\t:key=\"message.id\"\n\t\t\t:message=\"message\"\n\t\t\t:right=\"message.isSender\"\n\t\t\t:sender=\"message.isSender ? sender : receiver\"\n\t\t\t:color=\"`${color}-200`\"\n\t\t/>\n\t</div>\n</template>\n<script type=\"text/javascript\">\nimport Bubble from './Bubble';\n\nexport default {\n\tprops: {\n\t\tmessages: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tsender: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\treceiver: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: 'green',\n\t\t},\n\t\tfirstDate: {\n\t\t\ttype: Date\n\t\t},\n\t\tbasePath: {\n\t\t\ttype: String,\n\t\t\tdefault: '/import/Export/files/media/0/WhatsApp/Media/'\n\t\t}\n\t},\n\tcomputed: {\n\t\tsafeFirstDate() {\n\t\t\treturn this.messages[0] ? this.messages[0].date : this.firstDate || new Date();\n\t\t},\n\t\trebasedMessages() {\n\t\t\treturn this.messages.map(message => {\n\t\t\t\tif (!message.mediaSrc)\n\t\t\t\t\treturn message;\n\n\t\t\t\treturn {\n\t\t\t\t\t...message,\n\t\t\t\t\t// mediaSrc: message.mediaSrc.replace('Media/', this.basePath)\n\t\t\t\t};\n\t\t\t})\n\t\t}\n\t},\n\tcomponents: {\n\t\tBubble,\n\t},\n\n\tmethods: {\n\t\t\n\t}\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chat.vue?vue&type=template&id=5d8bcde7&\"\nimport script from \"./Chat.vue?vue&type=script&lang=js&\"\nexport * from \"./Chat.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-async-promise-executor */\n\nimport uuid from 'uuid/v4';\nimport { mountZipFile, readFile, writeFile, ensureDirectory } from '@/fs';\n// import initSqlJs from 'sql.js';\n\n// const initSqlJs = require('sql.js');\n\nlet sql = null;\n\nexport async function getSQL() {\n\tif (!sql) {\n\t\tsql = await window.initSqlJs({\n\t\t\t// Required to load the wasm binary asynchronously. Of course, you can host it wherever you want\n\t\t\t// You can omit locateFile completely when running in node\n\t\t\tlocateFile: (file) => `https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.6.1/${file}`,\n\t\t});\n\t}\n\n\treturn sql;\n}\n\nexport async function addPeopleMeta(buffer, { chats, people, files }) {\n\tconst SQL = await getSQL();\n\tconst db = new SQL.Database(buffer);\n\n\tdb.each(\n\t\t`SELECT DISTINCT Contact, ContactAlias FROM data`,\n\t\t{},\n\t\tfunction (row) {\n\t\t\tlet chattedPerson = {\n\t\t\t\tid: row.Contact,\n\t\t\t\tname: row.ContactAlias,\n\t\t\t};\n\n\t\t\tpeople[chattedPerson.id] = {\n\t\t\t\tid: row.Contact,\n\t\t\t\t...(people[chattedPerson.id] || {}),\n\t\t\t\tname: row.ContactAlias || row.Contact\n\t\t\t};\n\t\t}\n\t);\n\n\treturn {\n\t\tchats,\n\t\tpeople,\n\t\tfiles\n\t};\n}\n\nexport async function parseMsgStore(buffer) {\n\tconst SQL = await getSQL();\n\tconst db = new SQL.Database(buffer);\n\n\tlet people = {};\n\tlet messages = [];\n\tlet chats = {};\n\tlet files = {};\n\tlet filePromises = [];\n\n\tdb.each(\n\t\t`SELECT\n\t\t\tmessages.*,\n\t\t\tmessage_media.file_path\n\t\tFROM\n\t\t\tmessages\n\t\t\tLEFT JOIN message_media ON messages.media_url = message_media.message_url`,\n\t\t{},\n\t\tfunction (row) {\n\t\t\tlet chattedPerson = {\n\t\t\t\tid: row.key_remote_jid,\n\t\t\t\tname: row.key_remote_jid,\n\t\t\t\tavatarUrl: 'https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/avatars/00/00bb8a893a2e125c3fce471364154f950a8db60d.jpg',\n\t\t\t\tcolor: 'green'\n\t\t\t};\n\n\t\t\tif (!people[chattedPerson.id]) {\n\t\t\t\tpeople[chattedPerson.id] = chattedPerson;\n\t\t\t} else {\n\t\t\t\tchattedPerson = people[chattedPerson.id];\n\t\t\t}\n\n\t\t\tconst message = {\n\t\t\t\tid: uuid(),\n\t\t\t\tsender: chattedPerson.id,\n\t\t\t\tchatId: chattedPerson.id,\n\t\t\t\tdate: new Date(row.timestamp),\n\t\t\t\ttype: 'text',\n\t\t\t\tisSender: row.key_from_me === 1,\n\t\t\t\ttext: row.data || row.media_caption,\n\t\t\t\tmediaSrc: row.file_path,\n\t\t\t\tmimeType: row.media_mime_type\n\t\t\t};\n\n\t\t\tif (message.mediaSrc) {\n\t\t\t\tfilePromises.push((async () => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst file = await readFile(message.mediaSrc.replace('Media/', '/import/Export/files/media/0/WhatsApp/Media/'), null);\n\t\t\t\t\t\tconst blob = new Blob([file.buffer], { type: message.mimeType || 'image/jpeg' });\n\t\t\t\t\t\tfiles[message.mediaSrc] = URL.createObjectURL(blob);\n\n\t\t\t\t\t\t// Move to /assets/Media\n\t\t\t\t\t\tconst path = message.mediaSrc.replace('Media/', '/assets/Media/');\n\t\t\t\t\t\tconsole.log(path);\n\t\t\t\t\t\tawait ensureDirectory(path);\n\t\t\t\t\t\tawait writeFile(path, file, null);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.error('could not fetch file', message.mediaSrc, e);\n\t\t\t\t\t}\n\t\t\t\t})());\n\t\t\t}\n\n\t\t\tif (message.text || message.mediaSrc) {\n\t\t\t\tmessages.push(message);\n\t\t\t}\n\t\t}\n\t);\n\n\tfor (const message of messages) {\n\t\tconst id = `chat-${message.chatId}`;\n\t\tif (id in chats) {\n\t\t\tchats[id].messages.push(message);\n\t\t} else {\n\t\t\tchats[id] = {\n\t\t\t\tid: id,\n\t\t\t\ttype: 'whatsapp',\n\t\t\t\treceiver: message.chatId,\n\t\t\t\tsender: null,\n\t\t\t\tmessages: [ message ]\n\t\t\t};\n\t\t}\n\t}\n\n\tawait Promise.allSettled(filePromises);\n\n\treturn {\n\t\tchats,\n\t\tpeople,\n\t\tfiles\n\t};\n}\n\nexport async function loadVizFile(file) {\n\tawait mountZipFile(file, '/load');\n\tlet vizJson = JSON.parse(await readFile('/load/Viz.json'));\n\n\tconsole.log(vizJson);\n\n\tvizJson.files = {};\n\n\tfor (const chat of Object.values(vizJson.chats)) {\n\t\tfor (const message of chat.messages) {\n\t\t\ttry {\n\t\t\t\tmessage.date = new Date(message.date);\n\t\t\t\tconsole.info(message.mediaSrc)\n\t\t\t\tif (message.mediaSrc) {\n\t\t\t\t\tconst file = await readFile(`/load/${message.mediaSrc}`, null);\n\t\t\t\t\tconst blob = new Blob([file.buffer], { type: message.mimeType || 'image/jpeg' });\n\t\t\t\t\tvizJson.files[message.mediaSrc] = URL.createObjectURL(blob);\n\n\t\t\t\t\t// Move to /assets/Media\n\t\t\t\t\tawait ensureDirectory(`/assets/${message.mediaSrc}`);\n\t\t\t\t\tawait writeFile(`/assets/${message.mediaSrc}`, file, null);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('could not fetch file', message.mediaSrc, e);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (const event of Object.values(vizJson.events)) {\n\t\tevent.start = new Date(event.start);\n\t\tevent.end = new Date(event.end);\n\t}\n\n\treturn vizJson;\n}\n"],"sourceRoot":""}